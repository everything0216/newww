{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { closest, EventHandler, isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, createElement, remove, extend } from '@syncfusion/ej2-base';\nimport { Dialog, Popup, isCollide } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { FieldValidator } from './form-validator';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\nvar EVENT_FIELD = 'e-field';\n/**\n * Quick Popups interactions\n */\nvar QuickPopups = /** @class */function () {\n  function QuickPopups(parent) {\n    this.isMultipleEventSelect = false;\n    this.isCrudAction = false;\n    this.parent = parent;\n    this.l10n = this.parent.localeObj;\n    this.fieldValidator = new FieldValidator();\n    this.render();\n    this.addEventListener();\n  }\n  QuickPopups.prototype.render = function () {\n    this.renderQuickPopup();\n    this.renderMorePopup();\n    this.renderQuickDialog();\n  };\n  QuickPopups.prototype.renderQuickPopup = function () {\n    var quickPopupWrapper = createElement('div', {\n      className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close'\n    });\n    if (this.parent.isAdaptive) {\n      document.body.appendChild(quickPopupWrapper);\n      addClass([quickPopupWrapper], cls.DEVICE_CLASS);\n    } else {\n      this.parent.element.appendChild(quickPopupWrapper);\n    }\n    this.quickPopup = new Popup(quickPopupWrapper, {\n      targetType: this.parent.isAdaptive ? 'container' : 'relative',\n      enableRtl: this.parent.enableRtl,\n      open: this.quickPopupOpen.bind(this),\n      close: this.quickPopupClose.bind(this),\n      hideAnimation: this.parent.isAdaptive ? {\n        name: 'ZoomOut'\n      } : {\n        name: 'FadeOut',\n        duration: 150\n      },\n      showAnimation: this.parent.isAdaptive ? {\n        name: 'ZoomIn'\n      } : {\n        name: 'FadeIn',\n        duration: 150\n      },\n      collision: this.parent.isAdaptive ? {\n        X: 'fit',\n        Y: 'fit'\n      } : this.parent.enableRtl ? {\n        X: 'flip',\n        Y: 'fit'\n      } : {\n        X: 'none',\n        Y: 'fit'\n      },\n      position: this.parent.isAdaptive || this.parent.enableRtl ? {\n        X: 'left',\n        Y: 'top'\n      } : {\n        X: 'right',\n        Y: 'top'\n      },\n      viewPortElement: this.parent.isAdaptive ? document.body : this.parent.element,\n      zIndex: this.parent.isAdaptive ? 1004 : 3\n    });\n  };\n  QuickPopups.prototype.renderMorePopup = function () {\n    var moreEventPopup = \"<div class=\\\"\" + cls.MORE_EVENT_POPUP_CLASS + \"\\\"><div class=\\\"\" + cls.MORE_EVENT_HEADER_CLASS + \"\\\">\" + (\"<div class=\\\"\" + cls.MORE_EVENT_CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\" tabindex=\\\"0\\\"></div>\") + (\"<div class=\\\"\" + cls.MORE_EVENT_DATE_HEADER_CLASS + \"\\\"><div class=\\\"\" + cls.MORE_EVENT_HEADER_DAY_CLASS + \"\\\"></div>\") + (\"<div class=\\\"\" + cls.MORE_EVENT_HEADER_DATE_CLASS + \" \" + cls.NAVIGATE_CLASS + \"\\\" tabindex=\\\"0\\\"></div></div></div></div>\");\n    var moreEventWrapper = createElement('div', {\n      className: cls.MORE_POPUP_WRAPPER_CLASS + ' e-popup-close',\n      innerHTML: moreEventPopup\n    });\n    if (this.parent.isAdaptive) {\n      document.body.appendChild(moreEventWrapper);\n      addClass([moreEventWrapper], cls.DEVICE_CLASS);\n    } else {\n      this.parent.element.appendChild(moreEventWrapper);\n    }\n    this.morePopup = new Popup(moreEventWrapper, {\n      targetType: this.parent.isAdaptive ? 'container' : 'relative',\n      enableRtl: this.parent.enableRtl,\n      hideAnimation: {\n        name: 'ZoomOut',\n        duration: 300\n      },\n      showAnimation: {\n        name: 'ZoomIn',\n        duration: 300\n      },\n      open: this.morePopupOpen.bind(this),\n      close: this.morePopupClose.bind(this),\n      collision: this.parent.isAdaptive ? {\n        X: 'fit',\n        Y: 'fit'\n      } : this.parent.enableRtl ? {\n        X: 'flip',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      viewPortElement: this.parent.isAdaptive ? document.body : this.parent.element,\n      zIndex: this.parent.isAdaptive ? 1002 : 2\n    });\n    var closeButton = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CLOSE_CLASS);\n    this.renderButton('e-round', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeButton, this.closeClick);\n    EventHandler.add(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS), 'click', this.navigationClick, this);\n  };\n  QuickPopups.prototype.renderQuickDialog = function () {\n    var buttonModel = [{\n      buttonModel: {\n        cssClass: 'e-quick-alertok e-flat',\n        isPrimary: true\n      },\n      click: this.dialogButtonClick.bind(this)\n    }, {\n      buttonModel: {\n        cssClass: 'e-quick-alertcancel e-flat',\n        isPrimary: false\n      },\n      click: this.dialogButtonClick.bind(this)\n    }, {\n      buttonModel: {\n        cssClass: 'e-quick-dialog-cancel e-disable e-flat',\n        isPrimary: false\n      },\n      click: this.dialogButtonClick.bind(this)\n    }];\n    if (this.parent.eventSettings.editFollowingEvents) {\n      var followingSeriesButton = {\n        buttonModel: {\n          cssClass: 'e-quick-alertfollowing e-flat',\n          isPrimary: false\n        },\n        click: this.dialogButtonClick.bind(this)\n      };\n      buttonModel.splice(1, 0, followingSeriesButton);\n    }\n    this.quickDialog = new Dialog({\n      animationSettings: {\n        effect: 'Zoom'\n      },\n      buttons: buttonModel,\n      cssClass: cls.QUICK_DIALOG_CLASS,\n      closeOnEscape: true,\n      enableRtl: this.parent.enableRtl,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      beforeClose: this.beforeQuickDialogClose.bind(this),\n      isModal: true,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      showCloseIcon: true,\n      target: document.body,\n      visible: false,\n      width: 'auto'\n    });\n    var dialogElement = createElement('div', {\n      id: this.parent.element.id + 'QuickDialog'\n    });\n    this.parent.element.appendChild(dialogElement);\n    this.quickDialog.appendTo(dialogElement);\n    var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n    if (okButton) {\n      okButton.setAttribute('aria-label', this.l10n.getConstant('occurrence'));\n      okButton.setAttribute('aria-label', okButton.innerHTML);\n    }\n    var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    if (cancelButton) {\n      cancelButton.setAttribute('aria-label', this.l10n.getConstant('series'));\n      cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n    }\n    if (this.quickDialog.element.querySelector('.e-dlg-closeicon-btn')) {\n      this.quickDialog.element.querySelector('.e-dlg-closeicon-btn').setAttribute('title', this.l10n.getConstant('close'));\n    }\n  };\n  // eslint-disable-next-line max-len\n  QuickPopups.prototype.renderButton = function (className, iconName, isDisabled, element, clickEvent) {\n    var buttonObj = new Button({\n      cssClass: className,\n      disabled: isDisabled,\n      enableRtl: this.parent.enableRtl,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      iconCss: iconName\n    });\n    buttonObj.appendTo(element);\n    EventHandler.add(element, 'click', clickEvent, this);\n    removeClass([element], cls.ICON);\n  };\n  QuickPopups.prototype.quickDialogClass = function (action) {\n    var classList = [cls.QUICK_DIALOG_OCCURRENCE_CLASS, cls.QUICK_DIALOG_SERIES_CLASS, cls.QUICK_DIALOG_DELETE_CLASS, cls.QUICK_DIALOG_CANCEL_CLASS, cls.QUICK_DIALOG_ALERT_BTN_CLASS, cls.DISABLE_CLASS];\n    var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n    var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    var followingEventButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_FOLLOWING);\n    removeClass([okButton, cancelButton], classList);\n    addClass([this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_CANCEL_CLASS)], cls.DISABLE_CLASS);\n    if (this.parent.eventSettings.editFollowingEvents) {\n      addClass([followingEventButton], cls.DISABLE_CLASS);\n      removeClass([this.quickDialog.element], cls.FOLLOWING_EVENTS_DIALOG);\n    }\n    switch (action) {\n      case 'Recurrence':\n        addClass([okButton], cls.QUICK_DIALOG_OCCURRENCE_CLASS);\n        addClass([cancelButton], cls.QUICK_DIALOG_SERIES_CLASS);\n        if (this.parent.eventSettings.editFollowingEvents) {\n          removeClass([followingEventButton], cls.DISABLE_CLASS);\n          addClass([this.quickDialog.element], cls.FOLLOWING_EVENTS_DIALOG);\n          addClass([followingEventButton], cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS);\n        }\n        break;\n      case 'Delete':\n        addClass([okButton], cls.QUICK_DIALOG_DELETE_CLASS);\n        addClass([cancelButton], cls.QUICK_DIALOG_CANCEL_CLASS);\n        break;\n      case 'Alert':\n        addClass([okButton], [cls.QUICK_DIALOG_ALERT_OK, cls.QUICK_DIALOG_ALERT_BTN_CLASS]);\n        addClass([cancelButton], [cls.QUICK_DIALOG_ALERT_CANCEL, cls.DISABLE_CLASS]);\n        break;\n    }\n  };\n  QuickPopups.prototype.applyFormValidation = function () {\n    var form = this.quickPopup.element.querySelector('.' + cls.FORM_CLASS);\n    var rules = {};\n    rules[this.parent.eventSettings.fields.subject.name] = this.parent.eventSettings.fields.subject.validation;\n    this.fieldValidator.renderFormValidator(form, rules, this.quickPopup.element, this.parent.locale);\n  };\n  QuickPopups.prototype.openRecurrenceAlert = function () {\n    var editDeleteOnly = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n    if (editDeleteOnly) {\n      editDeleteOnly.innerHTML = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteEvent' : 'editEvent');\n      editDeleteOnly.setAttribute('aria-label', editDeleteOnly.innerHTML);\n    }\n    var editFollowingEventsOnly = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_FOLLOWING);\n    if (editFollowingEventsOnly) {\n      editFollowingEventsOnly.innerHTML = this.l10n.getConstant('editFollowingEvent');\n      editFollowingEventsOnly.setAttribute('aria-label', editFollowingEventsOnly.innerHTML);\n    }\n    var editDeleteSeries = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    if (editDeleteSeries) {\n      editDeleteSeries.innerHTML = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteSeries' : 'editSeries');\n      editDeleteSeries.setAttribute('aria-label', editDeleteSeries.innerHTML);\n    }\n    this.quickDialog.content = this.l10n.getConstant('editContent');\n    this.quickDialog.header = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteTitle' : 'editTitle');\n    this.quickDialogClass('Recurrence');\n    this.showQuickDialog('RecurrenceAlert');\n  };\n  QuickPopups.prototype.openRecurrenceValidationAlert = function (type) {\n    this.quickDialogClass('Alert');\n    var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n    okButton.innerHTML = this.l10n.getConstant('ok');\n    okButton.setAttribute('aria-label', okButton.innerHTML);\n    var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    cancelButton.innerHTML = this.l10n.getConstant('cancel');\n    cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n    this.quickDialog.header = this.l10n.getConstant('alert');\n    var dialogCancel;\n    switch (type) {\n      case 'wrongPattern':\n        addClass([cancelButton], cls.DISABLE_CLASS);\n        this.quickDialog.content = this.l10n.getConstant('wrongPattern');\n        break;\n      case 'createError':\n        addClass([cancelButton], cls.DISABLE_CLASS);\n        this.quickDialog.content = this.l10n.getConstant('createError');\n        break;\n      case 'sameDayAlert':\n        addClass([cancelButton], cls.DISABLE_CLASS);\n        this.quickDialog.content = this.l10n.getConstant('sameDayAlert');\n        break;\n      case 'seriesChangeAlert':\n        dialogCancel = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_CANCEL_CLASS);\n        removeClass([cancelButton, dialogCancel], cls.DISABLE_CLASS);\n        this.quickDialog.content = this.l10n.getConstant('seriesChangeAlert');\n        okButton.innerHTML = this.l10n.getConstant('yes');\n        cancelButton.innerHTML = this.l10n.getConstant('no');\n        dialogCancel.innerHTML = this.l10n.getConstant('cancel');\n        break;\n      case 'occurrenceAlert':\n        addClass([cancelButton], cls.DISABLE_CLASS);\n        this.quickDialog.content = this.l10n.getConstant('occurenceAlert');\n        break;\n    }\n    if (!this.parent.enableRecurrenceValidation && type === 'wrongPattern' || this.parent.enableRecurrenceValidation) {\n      this.showQuickDialog('RecurrenceValidationAlert');\n    }\n  };\n  QuickPopups.prototype.openDeleteAlert = function () {\n    if (this.parent.activeViewOptions.readonly) {\n      return;\n    }\n    var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n    if (okButton) {\n      okButton.innerHTML = this.l10n.getConstant('delete');\n      okButton.setAttribute('aria-label', okButton.innerHTML);\n    }\n    var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    if (cancelButton) {\n      cancelButton.innerHTML = this.l10n.getConstant('cancel');\n      cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n    }\n    this.quickDialog.content = this.parent.activeEventData.event.length > 1 ? this.l10n.getConstant('deleteMultipleContent') : this.l10n.getConstant('deleteContent');\n    this.quickDialog.header = this.parent.activeEventData.event.length > 1 ? this.l10n.getConstant('deleteMultipleEvent') : this.l10n.getConstant('deleteEvent');\n    this.quickDialogClass('Delete');\n    this.showQuickDialog('DeleteAlert');\n  };\n  QuickPopups.prototype.openValidationError = function (type, eventData) {\n    this.quickDialog.header = this.l10n.getConstant('alert');\n    this.quickDialog.content = this.l10n.getConstant(type);\n    var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n    if (okButton) {\n      okButton.innerHTML = this.l10n.getConstant('ok');\n      okButton.setAttribute('aria-label', okButton.innerHTML);\n    }\n    var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    if (cancelButton) {\n      cancelButton.innerHTML = this.l10n.getConstant('cancel');\n      okButton.setAttribute('aria-label', cancelButton.innerHTML);\n    }\n    this.quickDialogClass('Alert');\n    this.showQuickDialog('ValidationAlert', eventData);\n  };\n  QuickPopups.prototype.showQuickDialog = function (popupType, eventData) {\n    var _this = this;\n    this.quickDialog.dataBind();\n    var eventProp = {\n      type: popupType,\n      cancel: false,\n      element: this.quickDialog.element,\n      data: extend({}, eventData || this.parent.activeEventData.event, null, true)\n    };\n    this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n      if (!popupArgs.cancel) {\n        _this.quickDialog.show();\n      }\n    });\n  };\n  QuickPopups.prototype.createMoreEventList = function (eventCollection, groupOrder, groupIndex) {\n    var _this = this;\n    var fields = this.parent.eventFields;\n    var moreEventContentEle = createElement('div', {\n      className: cls.MORE_EVENT_CONTENT_CLASS\n    });\n    var moreEventWrapperEle = createElement('div', {\n      className: cls.MORE_EVENT_WRAPPER_CLASS\n    });\n    if (eventCollection.length === 0) {\n      moreEventWrapperEle = createElement('div', {\n        className: cls.MORE_EVENT_CONTENT_CLASS,\n        innerHTML: this.l10n.getConstant('emptyContainer')\n      });\n    } else {\n      var _loop_1 = function (eventData) {\n        var eventText = eventData[fields.subject] || this_1.parent.eventSettings.fields.subject.default || this_1.parent.localeObj.getConstant('addTitle');\n        var appointmentElement = createElement('div', {\n          className: cls.APPOINTMENT_CLASS,\n          attrs: {\n            'data-id': '' + eventData[fields.id],\n            'data-guid': eventData.Guid,\n            'role': 'button',\n            'tabindex': '0',\n            'aria-disabled': this_1.parent.eventBase.getReadonlyAttribute(eventData),\n            'aria-label': this_1.parent.getAnnouncementString(eventData)\n          }\n        });\n        var templateElement = void 0;\n        if (!isNullOrUndefined(this_1.parent.activeViewOptions.eventTemplate)) {\n          var tempId = this_1.parent.element.id + '_' + this_1.parent.activeViewOptions.eventTemplateName + 'eventTemplate';\n          templateElement = this_1.parent.getAppointmentTemplate()(eventData, this_1.parent, 'eventTemplate', tempId, false);\n          append(templateElement, appointmentElement);\n        } else {\n          appointmentElement.appendChild(createElement('div', {\n            className: cls.SUBJECT_CLASS\n          }));\n          this_1.parent.sanitize(eventText, appointmentElement.firstElementChild);\n        }\n        if (!isNullOrUndefined(groupIndex)) {\n          appointmentElement.setAttribute('data-group-index', groupIndex);\n        }\n        if (!isNullOrUndefined(eventData[fields.recurrenceRule])) {\n          var iconClass = eventData[fields.id] === eventData[fields.recurrenceID] ? cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n          appointmentElement.appendChild(createElement('div', {\n            className: cls.ICON + ' ' + iconClass\n          }));\n        }\n        var args = {\n          data: extend({}, eventData, null, true),\n          element: appointmentElement,\n          cancel: false\n        };\n        this_1.parent.trigger(event.eventRendered, args, function (eventArgs) {\n          if (!eventArgs.cancel) {\n            moreEventWrapperEle.appendChild(appointmentElement);\n            var isPreventCrud = _this.parent.isAdaptive || _this.parent.currentView === 'Year';\n            _this.parent.eventBase.wireAppointmentEvents(appointmentElement, eventData, isPreventCrud);\n            _this.parent.eventBase.applyResourceColor(appointmentElement, eventData, 'backgroundColor', groupOrder);\n          }\n        });\n      };\n      var this_1 = this;\n      for (var _i = 0, eventCollection_1 = eventCollection; _i < eventCollection_1.length; _i++) {\n        var eventData = eventCollection_1[_i];\n        _loop_1(eventData);\n      }\n    }\n    moreEventContentEle.appendChild(moreEventWrapperEle);\n    return moreEventContentEle;\n  };\n  QuickPopups.prototype.tapHoldEventPopup = function (e) {\n    var target = closest(e.target, '.' + cls.APPOINTMENT_CLASS);\n    this.isMultipleEventSelect = false;\n    this.parent.selectedElements = [];\n    this.isMultipleEventSelect = true;\n    this.parent.eventBase.getSelectedEventElements(target);\n    this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n    var guid = target.getAttribute('data-guid');\n    var eventObj = this.parent.eventBase.getEventByGuid(guid);\n    if (isNullOrUndefined(eventObj)) {\n      return;\n    }\n    var eventTitle = eventObj[this.parent.eventFields.subject] || this.l10n.getConstant('noTitle');\n    var eventTemplate = \"<div class=\\\"\" + cls.MULTIPLE_EVENT_POPUP_CLASS + \"\\\"><div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\">\" + (\"<button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\"></button>\") + (\"<div class=\\\"\" + cls.SUBJECT_CLASS + \"\\\">\" + eventTitle + \"</div>\") + (\"<button class=\\\"\" + cls.EDIT_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\"></button>\") + (\"<button class=\\\"\" + cls.DELETE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\"></button></div></div>\");\n    this.quickPopup.element.innerHTML = eventTemplate;\n    var closeIcon = this.quickPopup.element.querySelector('.' + cls.CLOSE_CLASS);\n    this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.closeClick);\n    var readonly = this.parent.activeViewOptions.readonly || eventObj[this.parent.eventFields.isReadonly];\n    var editAction = !this.parent.eventSettings.allowEditing || readonly;\n    var deleteAction = !this.parent.eventSettings.allowDeleting || readonly;\n    var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n    if (editIcon) {\n      this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.EDIT_ICON_CLASS, editAction, editIcon, this.editClick);\n    }\n    var deleteIcon = this.quickPopup.element.querySelector('.' + cls.DELETE_CLASS);\n    if (deleteIcon) {\n      this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.DELETE_ICON_CLASS, deleteAction, deleteIcon, this.deleteClick);\n    }\n    this.beforeQuickPopupOpen(target, this.parent.eventBase.getPageCoordinates(e));\n  };\n  QuickPopups.prototype.isCellBlocked = function (args) {\n    var tempObj = {};\n    tempObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n    tempObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n    tempObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      var targetCell = args.element instanceof Array ? args.element[0] : args.element;\n      var groupIndex = parseInt(targetCell.getAttribute('data-group-index'), 10);\n      this.parent.resourceBase.setResourceValues(tempObj, isNaN(groupIndex) ? null : groupIndex);\n    }\n    return this.parent.eventBase.isBlockRange(tempObj);\n  };\n  QuickPopups.prototype.cellClick = function (args) {\n    var date = new Date(args.startTime.getTime());\n    if (!this.parent.showQuickInfo || !this.parent.eventSettings.allowAdding || this.parent.currentView === 'MonthAgenda' || this.isCellBlocked(args) || !this.parent.isMinMaxDate(new Date(date.setHours(0, 0, 0, 0)))) {\n      this.quickPopupHide();\n      return;\n    }\n    var targetEle = !isNullOrUndefined(args.event) ? args.event.target : args.element;\n    if (this.parent.isAdaptive) {\n      this.quickPopupHide();\n      var newEventClone = this.parent.element.querySelector('.' + cls.NEW_EVENT_CLASS);\n      if (isNullOrUndefined(newEventClone)) {\n        newEventClone = createElement('div', {\n          className: cls.NEW_EVENT_CLASS,\n          innerHTML: \"<div class=\\\"e-title\\\">+ \" + this.l10n.getConstant('newEvent') + \"</div>\"\n        });\n      }\n      var targetCell = closest(targetEle, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS);\n      if (targetCell) {\n        targetCell.appendChild(newEventClone);\n      }\n      return;\n    }\n    var target = closest(targetEle, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' + cls.HEADER_CELLS_CLASS);\n    if (isNullOrUndefined(target) || targetEle.classList.contains(cls.MORE_INDICATOR_CLASS)) {\n      return;\n    }\n    var isSameTarget = this.quickPopup.relateTo === target;\n    if (isSameTarget && this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n      var subjectElement_1 = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n      if (subjectElement_1) {\n        subjectElement_1.focus();\n      }\n      return;\n    } else if (this.quickPopup.element) {\n      this.destroyPopupButtons('quickPopup');\n    }\n    var temp = {};\n    temp[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n    temp[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n    temp[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n    var quickCellPopup = createElement('div', {\n      className: cls.CELL_POPUP_CLASS\n    });\n    quickCellPopup.appendChild(this.getPopupHeader('Cell', temp));\n    quickCellPopup.appendChild(this.getPopupContent('Cell', args, temp));\n    quickCellPopup.appendChild(this.getPopupFooter('Cell', temp));\n    var subjectElement = quickCellPopup.querySelector('.' + cls.SUBJECT_CLASS);\n    if (subjectElement) {\n      Input.createInput({\n        element: subjectElement,\n        properties: {\n          placeholder: this.l10n.getConstant('addTitle')\n        }\n      });\n    }\n    if (!isNullOrUndefined(this.parent.eventSettings.fields.subject.default)) {\n      subjectElement.value = this.parent.eventSettings.fields.subject.default;\n    }\n    var closeIcon = quickCellPopup.querySelector('.' + cls.CLOSE_CLASS);\n    if (closeIcon) {\n      this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.popupClose);\n    }\n    var moreButton = quickCellPopup.querySelector('.' + cls.QUICK_POPUP_EVENT_DETAILS_CLASS);\n    if (moreButton) {\n      this.renderButton('e-flat', '', false, moreButton, this.detailsClick);\n    }\n    var saveButton = quickCellPopup.querySelector('.' + cls.EVENT_CREATE_CLASS);\n    if (saveButton) {\n      this.renderButton('e-flat e-primary', '', this.parent.activeViewOptions.readonly, saveButton, this.saveClick);\n    }\n    if (this.morePopup) {\n      this.morePopup.hide();\n    }\n    this.quickPopup.content = quickCellPopup;\n    this.quickPopup.relateTo = target;\n    this.quickPopup.dataBind();\n    this.beforeQuickPopupOpen(target, this.parent.eventBase.getPageCoordinates(args.event));\n  };\n  QuickPopups.prototype.isSameEventClick = function (events) {\n    var isSameTarget = this.quickPopup.relateTo === closest(events.element, '.' + cls.APPOINTMENT_CLASS);\n    if (isSameTarget && this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n      var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n      if (editIcon) {\n        editIcon.focus();\n      }\n      if (!this.parent.isAdaptive) {\n        var editButton = this.quickPopup.element.querySelector('.' + cls.EDIT_EVENT_CLASS);\n        if (editButton) {\n          editButton.focus();\n        }\n      }\n      return true;\n    }\n    return false;\n  };\n  QuickPopups.prototype.isQuickTemplate = function (type) {\n    return this.parent.quickInfoTemplates.templateType === 'Both' || this.parent.quickInfoTemplates.templateType === type;\n  };\n  QuickPopups.prototype.eventClick = function (events) {\n    if (this.parent.eventTooltip) {\n      this.parent.eventTooltip.close();\n    }\n    if (!this.parent.showQuickInfo) {\n      return;\n    }\n    if (this.parent.isAdaptive && this.isMultipleEventSelect) {\n      this.updateTapHoldEventPopup(closest(events.element, '.' + cls.APPOINTMENT_CLASS));\n    } else {\n      var isSameTarget = this.isSameEventClick(events);\n      this.parent.selectedElements = [];\n      if (isSameTarget) {\n        return;\n      } else if (this.quickPopup.element) {\n        this.destroyPopupButtons('quickPopup');\n      }\n      var eventData = events.event;\n      var quickEventPopup = createElement('div', {\n        className: cls.EVENT_POPUP_CLASS\n      });\n      quickEventPopup.appendChild(this.getPopupHeader('Event', eventData));\n      quickEventPopup.appendChild(this.getPopupContent('Event', events, eventData));\n      quickEventPopup.appendChild(this.getPopupFooter('Event', eventData));\n      var readonly = this.parent.activeViewOptions.readonly || eventData[this.parent.eventFields.isReadonly];\n      var editAction = !this.parent.eventSettings.allowEditing || readonly;\n      var deleteAction = !this.parent.eventSettings.allowDeleting || readonly;\n      var editIcon = quickEventPopup.querySelector('.' + cls.EDIT_CLASS);\n      var buttonClass = 'e-flat e-round e-small';\n      if (editIcon) {\n        this.renderButton(buttonClass, cls.ICON + ' ' + cls.EDIT_ICON_CLASS, editAction, editIcon, this.editClick);\n      }\n      var deleteIcon = quickEventPopup.querySelector('.' + cls.DELETE_CLASS);\n      if (deleteIcon) {\n        this.renderButton(buttonClass, cls.ICON + ' ' + cls.DELETE_ICON_CLASS, deleteAction, deleteIcon, this.deleteClick);\n      }\n      var closeIcon = quickEventPopup.querySelector('.' + cls.CLOSE_CLASS);\n      if (closeIcon) {\n        this.renderButton(buttonClass, cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.popupClose);\n      }\n      var editButton = quickEventPopup.querySelector('.' + cls.EDIT_EVENT_CLASS);\n      if (editButton) {\n        this.renderButton('e-flat e-primary', '', editAction, editButton, this.editClick);\n      }\n      var deleteButton = quickEventPopup.querySelector('.' + cls.DELETE_EVENT_CLASS);\n      if (deleteButton) {\n        this.renderButton('e-flat', '', deleteAction, deleteButton, this.deleteClick);\n      }\n      if (this.morePopup && !closest(events.element, '.' + cls.MORE_EVENT_WRAPPER_CLASS)) {\n        this.morePopup.hide();\n      }\n      this.quickPopup.content = quickEventPopup;\n      this.quickPopup.relateTo = this.parent.isAdaptive ? document.body : closest(events.element, '.' + cls.APPOINTMENT_CLASS);\n      this.quickPopup.dataBind();\n      this.beforeQuickPopupOpen(events.element, this.parent.eventBase.getPageCoordinates(events.originalEvent));\n    }\n  };\n  QuickPopups.prototype.getPopupHeader = function (headerType, headerData) {\n    var headerTemplate = createElement('div', {\n      className: cls.POPUP_HEADER_CLASS\n    });\n    if (this.isQuickTemplate(headerType) && this.parent.quickInfoTemplates.header) {\n      var headerArgs = extend({}, headerData, {\n        elementType: headerType.toLowerCase()\n      }, true);\n      var templateId = this.parent.element.id;\n      var headerTemp = [].slice.call(this.parent.getQuickInfoTemplatesHeader()(headerArgs, this.parent, 'header', templateId + '_headerTemplate', false));\n      append([].slice.call(headerTemp), headerTemplate);\n    } else {\n      var header = void 0;\n      var args = void 0;\n      switch (headerType) {\n        case 'Cell':\n          header = \"<div class=\\\"\" + cls.POPUP_HEADER_ICON_WRAPPER + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\" + (\"\\\"\" + this.l10n.getConstant('close') + \"\\\"></button></div>\");\n          break;\n        case 'Event':\n          args = this.getFormattedString(headerData);\n          header = \"<div class=\\\"\" + cls.POPUP_HEADER_ICON_WRAPPER + \"\\\">\" + (\"<button class=\\\"\" + (cls.EDIT_CLASS + ' ' + cls.ICON) + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\"></button>\") + (\"<button class=\\\"\" + (cls.DELETE_CLASS + ' ' + cls.ICON) + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\"></button>\") + (\"<button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\"></button></div>\") + (\"<div class=\\\"\" + cls.SUBJECT_WRAP + \"\\\"><div class=\\\"\" + cls.SUBJECT_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" \") + (\"title=\\\"\" + (args.eventSubject ? args.eventSubject.replaceAll('\"', '\\'') : args.eventSubject) + \"\\\"></div></div >\");\n          break;\n      }\n      var templateWrapper = createElement('div', {\n        innerHTML: header\n      });\n      if (headerType === 'Event') {\n        var subjectText = templateWrapper.querySelector('.' + cls.SUBJECT_CLASS);\n        this.parent.sanitize(args.eventSubject, subjectText);\n      }\n      append([].slice.call(templateWrapper.childNodes), headerTemplate);\n    }\n    return headerTemplate;\n  };\n  QuickPopups.prototype.getPopupContent = function (type, args, data) {\n    var contentTemplate = createElement('div', {\n      className: cls.POPUP_CONTENT_CLASS\n    });\n    if (this.isQuickTemplate(type) && this.parent.quickInfoTemplates.content) {\n      var contentArgs = extend({}, data, {\n        elementType: type.toLowerCase()\n      }, true);\n      var templateId = this.parent.element.id;\n      var contentTemp = [].slice.call(this.parent.getQuickInfoTemplatesContent()(contentArgs, this.parent, 'content', templateId + '_contentTemplate', false));\n      append([].slice.call(contentTemp), contentTemplate);\n    } else {\n      var content = void 0;\n      var cellDetails = void 0;\n      var argsData = void 0;\n      var resourceText = this.getResourceText(args, type.toLowerCase());\n      switch (type) {\n        case 'Cell':\n          cellDetails = this.getFormattedString(data);\n          content = \"<table class=\\\"\" + cls.POPUP_TABLE_CLASS + \"\\\"><tbody><tr><td><form class=\\\"\" + cls.FORM_CLASS + \"\\\" onsubmit=\" + (\"\\\"return false;\\\"><input class=\\\"\" + cls.SUBJECT_CLASS + \" \" + EVENT_FIELD + \"\\\" type=\\\"text\\\" name=\") + (\"\\\"\" + this.parent.eventFields.subject + \"\\\" /></form></td></tr><tr><td><div class=\\\"\" + cls.DATE_TIME_CLASS + \"\\\">\") + (\"<div class=\\\"\" + cls.DATE_TIME_ICON_CLASS + \" \" + cls.ICON + \"\\\"></div><div class=\\\"\" + cls.DATE_TIME_DETAILS_CLASS + \" \") + (cls.TEXT_ELLIPSIS + \"\\\">\" + cellDetails.details + \"</div></div>\") + ((this.parent.activeViewOptions.group.resources.length > 0 ? \"<div class=\\\"\" + cls.RESOURCE_CLASS + \"\\\">\" + (\"<div class=\\\"\" + cls.RESOURCE_ICON_CLASS + \" \" + cls.ICON + \" \\\"></div><div class=\\\"\" + cls.RESOURCE_DETAILS_CLASS + \" \") + (cls.TEXT_ELLIPSIS + \"\\\"></div></div>\") : '') + \"</td></tr></tbody></table>\");\n          break;\n        case 'Event':\n          argsData = this.getFormattedString(data);\n          content = '<div class=\"' + cls.DATE_TIME_CLASS + '\"><div class=\"' + cls.DATE_TIME_ICON_CLASS + ' ' + cls.ICON + '\"></div><div class=\"' + cls.DATE_TIME_WRAPPER_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"><div class=\"' + cls.DATE_TIME_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' + argsData.details + '</div>';\n          if (data[this.parent.eventFields.recurrenceRule]) {\n            content += '<div class=\"' + cls.RECURRENCE_SUMMARY_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' + this.getRecurrenceSummary(data) + '</div>';\n          }\n          content += '</div></div>';\n          if (data[this.parent.eventFields.location]) {\n            content += '<div class=\"' + cls.LOCATION_CLASS + '\"><div class=\"' + cls.LOCATION_ICON_CLASS + ' ' + cls.ICON + '\"></div><div class=\"' + cls.LOCATION_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n          }\n          if (data[this.parent.eventFields.startTimezone] || data[this.parent.eventFields.endTimezone]) {\n            content += '<div class=\"' + cls.TIME_ZONE_CLASS + '\"><div class=\"' + cls.TIME_ZONE_ICON_CLASS + ' ' + cls.ICON + '\"></div><div class=\"' + cls.TIME_ZONE_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' + this.getTimezone(data) + '</div></div>';\n          }\n          if (data[this.parent.eventFields.description]) {\n            content += '<div class=\"' + cls.DESCRIPTION_CLASS + '\"><div class=\"' + cls.DESCRIPTION_ICON_CLASS + ' ' + cls.ICON + '\"></div><div class=\"' + cls.DESCRIPTION_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n          }\n          if (this.parent.resourceCollection.length > 0) {\n            content += '<div class=\"' + cls.RESOURCE_CLASS + '\"><div class=\"' + cls.RESOURCE_ICON_CLASS + ' ' + cls.ICON + '\"></div><div class=\"' + cls.RESOURCE_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n          }\n          break;\n      }\n      var templateWrapper = createElement('div', {\n        innerHTML: content\n      });\n      if (data[this.parent.eventFields.location]) {\n        var locationDetails = templateWrapper.querySelector('.' + cls.LOCATION_DETAILS_CLASS);\n        if (!isNullOrUndefined(locationDetails)) {\n          this.parent.sanitize(data[this.parent.eventFields.location], locationDetails);\n        }\n      }\n      if (data[this.parent.eventFields.description]) {\n        var descriptionDetails = templateWrapper.querySelector('.' + cls.DESCRIPTION_DETAILS_CLASS);\n        if (!isNullOrUndefined(descriptionDetails)) {\n          this.parent.sanitize(data[this.parent.eventFields.description], descriptionDetails);\n        }\n      }\n      if (resourceText) {\n        var resourceDetails = templateWrapper.querySelector('.' + cls.RESOURCE_DETAILS_CLASS);\n        if (!isNullOrUndefined(resourceDetails)) {\n          this.parent.sanitize(resourceText, resourceDetails);\n        }\n      }\n      append([].slice.call(templateWrapper.childNodes), contentTemplate);\n    }\n    return contentTemplate;\n  };\n  QuickPopups.prototype.getPopupFooter = function (footerType, footerData) {\n    var footerTemplate = createElement('div', {\n      className: cls.POPUP_FOOTER_CLASS\n    });\n    if (this.isQuickTemplate(footerType) && this.parent.quickInfoTemplates.footer) {\n      var footerArgs = extend({}, footerData, {\n        elementType: footerType.toLowerCase()\n      }, true);\n      var templateId = this.parent.element.id;\n      var footerTemp = [].slice.call(this.parent.getQuickInfoTemplatesFooter()(footerArgs, this.parent, 'footer', templateId + '_footerTemplate', false));\n      append([].slice.call(footerTemp), footerTemplate);\n    } else {\n      var footer = void 0;\n      switch (footerType) {\n        case 'Cell':\n          footer = \"<button class=\\\"\" + (cls.QUICK_POPUP_EVENT_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS) + \"\\\" title=\" + (\"\\\"\" + this.l10n.getConstant('moreDetails') + \"\\\">\" + this.l10n.getConstant('moreDetails') + \"</button>\") + (\"<button class=\\\"\" + cls.EVENT_CREATE_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('save') + \"\\\">\") + (this.l10n.getConstant('save') + \"</button>\");\n          break;\n        case 'Event':\n          footer = \"\" + (this.parent.isAdaptive ? '' : \"<button class=\\\"\" + cls.EDIT_EVENT_CLASS + \" \" + (cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\">\" + this.l10n.getConstant('edit') + \"</button>\") + (\"<button class=\\\"\" + cls.DELETE_EVENT_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\">\") + (this.l10n.getConstant('delete') + \"</button>\"));\n          break;\n      }\n      var templateWrapper = createElement('div', {\n        innerHTML: footer\n      });\n      append([].slice.call(templateWrapper.childNodes), footerTemplate);\n    }\n    return footerTemplate;\n  };\n  QuickPopups.prototype.getResourceText = function (args, type) {\n    if (this.parent.resourceCollection.length === 0) {\n      return null;\n    }\n    var resourceValue = '';\n    if (this.parent.activeViewOptions.group.resources.length === 0) {\n      var resourceCollection_1 = this.parent.resourceBase.resourceCollection.slice(-1)[0];\n      var resourceData = resourceCollection_1.dataSource;\n      if (type === 'event') {\n        var eventData = args.event;\n        var _loop_2 = function (data) {\n          var resourceId = eventData[resourceCollection_1.field];\n          if (resourceId instanceof Array) {\n            if (resourceId.indexOf(data[resourceCollection_1.idField]) > -1) {\n              var id_1 = resourceId[resourceId.indexOf(data[resourceCollection_1.idField])];\n              var resource = resourceData.filter(function (e) {\n                return e[resourceCollection_1.idField] === id_1;\n              })[0];\n              resourceValue += resourceValue === '' ? resource[resourceCollection_1.textField] : ', ' + resource[resourceCollection_1.textField];\n            }\n          } else if (data[resourceCollection_1.idField] === resourceId) {\n            resourceValue = data[resourceCollection_1.textField].toString();\n          }\n        };\n        for (var _i = 0, resourceData_1 = resourceData; _i < resourceData_1.length; _i++) {\n          var data = resourceData_1[_i];\n          _loop_2(data);\n        }\n      } else {\n        resourceValue = resourceData[0][resourceCollection_1.textField].toString();\n      }\n    } else {\n      if (type === 'event') {\n        var eventData = args.event;\n        var resourceData = void 0;\n        var lastResource_1;\n        for (var i = this.parent.resourceBase.resourceCollection.length - 1; i >= 0; i--) {\n          resourceData = eventData[this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)].field];\n          if (!isNullOrUndefined(resourceData)) {\n            lastResource_1 = this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)];\n            break;\n          }\n        }\n        if (!Array.isArray(resourceData)) {\n          resourceData = [resourceData];\n        }\n        var resNames_1 = [];\n        var lastResourceData_1 = lastResource_1.dataSource;\n        resourceData.forEach(function (value) {\n          var text;\n          var i = util.findIndexInData(lastResourceData_1, lastResource_1.idField, value);\n          if (i > -1) {\n            text = lastResourceData_1[parseInt(i.toString(), 10)][lastResource_1.textField];\n          }\n          if (text) {\n            resNames_1.push(text);\n          }\n        });\n        resourceValue = resNames_1.join(', ');\n      } else {\n        var argsData = args;\n        var groupIndex = !isNullOrUndefined(argsData.groupIndex) ? argsData.groupIndex : 0;\n        var resourceDetails = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex.toString(), 10)];\n        resourceValue = resourceDetails.resourceData[resourceDetails.resource.textField];\n      }\n    }\n    return resourceValue;\n  };\n  QuickPopups.prototype.getFormattedString = function (eventData) {\n    var fields = this.parent.eventFields;\n    var eventSubject = eventData[fields.subject] || this.l10n.getConstant('noTitle');\n    var startDate = eventData[fields.startTime];\n    var endDate = eventData[fields.endTime];\n    var startDateDetails = this.getDateFormat(startDate, 'long');\n    var endDateDetails = eventData[fields.isAllDay] && endDate.getHours() === 0 && endDate.getMinutes() === 0 ? this.getDateFormat(util.addDays(new Date(endDate.getTime()), -1), 'long') : this.getDateFormat(endDate, 'long');\n    var startTimeDetail = this.parent.getTimeString(startDate);\n    var endTimeDetail = this.parent.getTimeString(endDate);\n    var details = '';\n    var spanLength = endDate.getDate() !== startDate.getDate() && (endDate.getTime() - startDate.getTime()) / (60 * 60 * 1000) < 24 ? 1 : 0;\n    if (eventData[fields.isAllDay]) {\n      details = startDateDetails + ' (' + this.l10n.getConstant('allDay') + ')';\n      if ((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) / util.MS_PER_DAY > 1) {\n        details += '&nbsp;-&nbsp;' + endDateDetails + ' (' + this.l10n.getConstant('allDay') + ')';\n      }\n    } else if ((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) / util.MS_PER_DAY >= 1 || spanLength > 0) {\n      details = startDateDetails + ' (' + startTimeDetail + ')' + '&nbsp;-&nbsp;' + endDateDetails + ' (' + endTimeDetail + ')';\n    } else {\n      details = startDateDetails + ' (' + (startTimeDetail + '&nbsp;-&nbsp;' + endTimeDetail) + ')';\n    }\n    return {\n      eventSubject: eventSubject,\n      details: details\n    };\n  };\n  QuickPopups.prototype.moreEventClick = function (data, endDate, groupIndex) {\n    var _this = this;\n    this.quickPopupHide(true);\n    var moreEventContentEle = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CONTENT_CLASS);\n    if (moreEventContentEle) {\n      remove(moreEventContentEle);\n    }\n    var selectedDate = data.date.getTime().toString();\n    var target = closest(data.element, '.' + cls.MORE_INDICATOR_CLASS + ',.' + cls.WORK_CELLS_CLASS);\n    var day = this.parent.globalize.formatDate(data.date, {\n      format: 'E',\n      calendar: this.parent.getCalendarMode()\n    });\n    this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DAY_CLASS).innerHTML = util.capitalizeFirstWord(day, 'single');\n    var dateElement = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS);\n    dateElement.innerHTML = this.getDateFormat(data.date, 'd');\n    dateElement.setAttribute('data-date', selectedDate);\n    dateElement.setAttribute('data-end-date', endDate.getTime().toString());\n    var groupOrder;\n    if (!isNullOrUndefined(groupIndex)) {\n      dateElement.setAttribute('data-group-index', groupIndex);\n      groupOrder = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)].groupOrder;\n    }\n    var moreEventElements = this.createMoreEventList(data.event, groupOrder, groupIndex);\n    this.morePopup.element.querySelector('.' + cls.MORE_EVENT_POPUP_CLASS).appendChild(moreEventElements);\n    removeClass(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_DATE_HEADER_CLASS).childNodes, cls.CURRENTDATE_CLASS);\n    if (util.resetTime(data.date).getTime() === util.resetTime(this.parent.getCurrentTime()).getTime()) {\n      addClass(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_DATE_HEADER_CLASS).childNodes, cls.CURRENTDATE_CLASS);\n    }\n    if (!this.parent.isAdaptive) {\n      if (this.parent.currentView.indexOf('Timeline') !== -1) {\n        var gIndex = target.getAttribute('data-group-index');\n        var startDate = new Date(parseInt(target.getAttribute('data-start-date'), 10));\n        startDate.setHours(startDate.getHours(), startDate.getMinutes(), 0);\n        var tdDate = startDate.getTime().toString();\n        if (isNullOrUndefined(gIndex)) {\n          this.morePopup.relateTo = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' tbody tr td[data-date=\"' + tdDate + '\"]');\n        } else {\n          this.morePopup.relateTo = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' tbody tr td[data-group-index=\"' + gIndex + '\"][data-date=\"' + tdDate + '\"]');\n          if (isNullOrUndefined(this.morePopup.relateTo)) {\n            var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS + ' tbody tr td[data-group-index=\"' + gIndex + '\"]'));\n            for (var i = 0; i < workCells.length; i++) {\n              var date = workCells[parseInt(i.toString(), 10)].getAttribute('data-date');\n              if (date < tdDate) {\n                this.morePopup.relateTo = workCells[parseInt(i.toString(), 10)];\n              }\n            }\n          }\n        }\n      } else {\n        this.morePopup.relateTo = closest(target, '.' + cls.WORK_CELLS_CLASS);\n      }\n    }\n    this.parent.renderTemplates(function () {\n      var eventProp = {\n        type: 'EventContainer',\n        cancel: false,\n        element: _this.morePopup.element,\n        data: data\n      };\n      _this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n        if (!popupArgs.cancel) {\n          _this.morePopup.show();\n        }\n      });\n    });\n  };\n  QuickPopups.prototype.saveClick = function (event) {\n    this.applyFormValidation();\n    this.dialogEvent = event;\n    this.isCrudAction = true;\n    this.quickPopupHide();\n  };\n  QuickPopups.prototype.detailsClick = function (event) {\n    var subjectEle = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n    if (subjectEle && subjectEle.value !== '') {\n      extend(this.parent.activeCellsData, {\n        subject: subjectEle.value\n      });\n    }\n    this.dialogEvent = event;\n    this.isCrudAction = false;\n    this.fieldValidator.destroyToolTip();\n    this.quickPopupHide();\n    this.parent.eventWindow.openEditor(this.parent.activeCellsData, 'Add');\n  };\n  QuickPopups.prototype.editClick = function (event) {\n    this.dialogEvent = event;\n    this.quickPopupHide(true);\n    var data = this.parent.activeEventData.event;\n    this.parent.currentAction = 'EditSeries';\n    if (!isNullOrUndefined(data[this.parent.eventFields.recurrenceRule])) {\n      this.parent.currentAction = 'EditOccurrence';\n      this.openRecurrenceAlert();\n    } else {\n      this.parent.eventWindow.openEditor(data, this.parent.currentAction);\n    }\n  };\n  QuickPopups.prototype.deleteClick = function (event) {\n    this.dialogEvent = event;\n    this.quickPopupHide(true);\n    this.parent.currentAction = 'Delete';\n    if (this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]) {\n      this.openRecurrenceAlert();\n    } else {\n      this.openDeleteAlert();\n    }\n  };\n  QuickPopups.prototype.updateMoreEventContent = function () {\n    if (this.morePopup.element.classList.contains('e-popup-close')) {\n      return;\n    }\n    var moreEventContentEle = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CONTENT_CLASS);\n    if (moreEventContentEle) {\n      remove(moreEventContentEle);\n    }\n    var dateElement = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS);\n    var startDate = new Date(parseInt(dateElement.getAttribute('data-date'), 10));\n    var endDate = new Date(parseInt(dateElement.getAttribute('data-end-date'), 10));\n    var groupIndex = dateElement.getAttribute('data-group-index');\n    var data;\n    var groupOrder;\n    if (!isNullOrUndefined(groupIndex)) {\n      data = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)];\n      groupOrder = data.groupOrder;\n    }\n    var events = this.parent.eventBase.filterEvents(startDate, endDate, this.parent.eventsProcessed, data);\n    var moreElement = this.createMoreEventList(events, groupOrder, groupIndex);\n    this.morePopup.element.querySelector('.' + cls.MORE_EVENT_POPUP_CLASS).appendChild(moreElement);\n  };\n  QuickPopups.prototype.closeClick = function (event) {\n    this.dialogEvent = event;\n    if (this.parent.currentView === 'Year' && this.parent.activeCellsData && this.parent.activeCellsData.element) {\n      this.parent.selectCell(this.parent.activeCellsData.element);\n    }\n    this.quickPopupHide();\n    this.morePopup.hide();\n  };\n  QuickPopups.prototype.dialogButtonClick = function (event) {\n    this.dialogEvent = event;\n    this.quickDialog.hide();\n    var target = event.target;\n    var cancelBtn = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n    var eventData = this.parent.activeEventData.event;\n    if (target.classList.contains(cls.QUICK_DIALOG_OCCURRENCE_CLASS)) {\n      this.parent.currentAction = this.parent.currentAction === 'Delete' ? 'DeleteOccurrence' : 'EditOccurrence';\n      switch (this.parent.currentAction) {\n        case 'EditOccurrence':\n          this.parent.eventWindow.openEditor(eventData, this.parent.currentAction);\n          break;\n        case 'DeleteOccurrence':\n          this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n          break;\n      }\n    } else if (target.classList.contains(cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS)) {\n      this.parent.currentAction = this.parent.currentAction === 'Delete' ? 'DeleteFollowingEvents' : 'EditFollowingEvents';\n      switch (this.parent.currentAction) {\n        case 'EditFollowingEvents':\n          this.parent.eventWindow.openEditor(eventData, this.parent.currentAction);\n          break;\n        case 'DeleteFollowingEvents':\n          this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n          break;\n      }\n    } else if (target.classList.contains(cls.QUICK_DIALOG_SERIES_CLASS)) {\n      this.parent.currentAction = this.parent.currentAction === 'Delete' ? 'DeleteSeries' : 'EditSeries';\n      switch (this.parent.currentAction) {\n        case 'EditSeries':\n          this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(eventData, true), this.parent.currentAction);\n          break;\n        case 'DeleteSeries':\n          this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n          break;\n      }\n    } else if (target.classList.contains(cls.QUICK_DIALOG_DELETE_CLASS)) {\n      this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n    } else if (!cancelBtn.classList.contains(cls.DISABLE_CLASS) && (target.classList.contains(cls.QUICK_DIALOG_ALERT_OK) || target.classList.contains(cls.QUICK_DIALOG_ALERT_CANCEL) && !cancelBtn.classList.contains(cls.QUICK_DIALOG_CANCEL_CLASS))) {\n      this.parent.uiStateValues.isIgnoreOccurrence = target.classList.contains(cls.QUICK_DIALOG_ALERT_CANCEL);\n      this.parent.eventWindow.eventSave(event, this.l10n.getConstant('ok'));\n    }\n  };\n  QuickPopups.prototype.updateTapHoldEventPopup = function (target) {\n    var selectedElements = this.parent.eventBase.getSelectedEventElements(target);\n    this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n    if (selectedElements.length > 0) {\n      var eventObj = this.parent.eventBase.getEventByGuid(selectedElements[0].getAttribute('data-guid'));\n      var titleContent = selectedElements.length === 1 ? eventObj[this.parent.eventFields.subject] || this.l10n.getConstant('noTitle') : '(' + selectedElements.length + ')' + '&nbsp;' + this.l10n.getConstant('selectedItems');\n      this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS).innerHTML = titleContent;\n      if (selectedElements.length > 1) {\n        addClass([this.quickPopup.element.querySelector('.' + cls.EDIT_ICON_CLASS)], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([this.quickPopup.element.querySelector('.' + cls.EDIT_ICON_CLASS)], cls.HIDDEN_CLASS);\n      }\n    } else {\n      this.parent.selectedElements = [];\n      this.quickPopupHide();\n    }\n  };\n  QuickPopups.prototype.getTimezone = function (event) {\n    var zoneDetails = '';\n    zoneDetails += event[this.parent.eventFields.startTimezone] || '';\n    zoneDetails += zoneDetails === '' ? '' : ' - ';\n    zoneDetails += event[this.parent.eventFields.endTimezone] || '';\n    return zoneDetails;\n  };\n  QuickPopups.prototype.getRecurrenceSummary = function (event) {\n    var recurrenceEditor = this.parent.eventWindow.getRecurrenceEditorInstance();\n    if (recurrenceEditor) {\n      var ruleSummary = recurrenceEditor.getRuleSummary(event[this.parent.eventFields.recurrenceRule]);\n      return ruleSummary.charAt(0).toUpperCase() + ruleSummary.slice(1);\n    }\n    return '';\n  };\n  QuickPopups.prototype.getDateFormat = function (date, skeletonString) {\n    return util.capitalizeFirstWord(this.parent.globalize.formatDate(date, {\n      skeleton: skeletonString,\n      calendar: this.parent.getCalendarMode()\n    }), 'single');\n  };\n  QuickPopups.prototype.getDataFromTarget = function (target) {\n    if (target.classList.contains(cls.APPOINTMENT_CLASS)) {\n      return this.parent.activeEventData.event;\n    }\n    // Deprecated cells data in quick popups\n    var eventObj = {\n      startTime: this.parent.activeCellsData.startTime,\n      endTime: this.parent.activeCellsData.endTime,\n      isAllDay: this.parent.activeCellsData.isAllDay,\n      groupIndex: this.parent.activeCellsData.groupIndex\n    };\n    var cellsData = this.parent.activeCellsData;\n    this.parent.eventWindow.convertToEventData(cellsData, eventObj);\n    return eventObj;\n  };\n  QuickPopups.prototype.beforeQuickDialogClose = function (e) {\n    var _this = this;\n    var args = {\n      event: e.event || this.dialogEvent,\n      type: isNullOrUndefined(this.parent.activeEventData.event) ? 'ValidationAlert' : !isNullOrUndefined(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]) ? 'RecurrenceAlert' : 'DeleteAlert',\n      cancel: false,\n      data: this.parent.activeEventData.event,\n      element: this.quickDialog.element\n    };\n    this.parent.trigger(event.popupClose, args, function (popupCloseArgs) {\n      if (!popupCloseArgs.cancel) {\n        _this.parent.eventBase.focusElement(true);\n      }\n    });\n  };\n  QuickPopups.prototype.beforeQuickPopupOpen = function (target, originalEvent) {\n    var _this = this;\n    this.parent.renderTemplates(function () {\n      var isEventPopup = _this.quickPopup.element.querySelector('.' + cls.EVENT_POPUP_CLASS);\n      var popupType = _this.parent.isAdaptive ? isEventPopup ? 'ViewEventInfo' : 'EditEventInfo' : 'QuickInfo';\n      var eventProp = {\n        type: popupType,\n        cancel: false,\n        data: extend({}, _this.getDataFromTarget(target), null, true),\n        target: target,\n        element: _this.quickPopup.element\n      };\n      _this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n        if (popupArgs.cancel) {\n          _this.quickPopupHide();\n          _this.destroyPopupButtons('quickPopup');\n          if (popupArgs.element.classList.contains(cls.POPUP_OPEN)) {\n            _this.quickPopupClose();\n          }\n          util.removeChildren(_this.quickPopup.element);\n          _this.isMultipleEventSelect = false;\n        } else {\n          var display = _this.quickPopup.element.style.display;\n          _this.quickPopup.element.style.display = 'block';\n          if (_this.parent.isAdaptive) {\n            _this.quickPopup.element.removeAttribute('style');\n            _this.quickPopup.element.style.display = 'block';\n            _this.quickPopup.element.style.height = formatUnit(popupType === 'EditEventInfo' ? 65 : window.innerHeight);\n          } else {\n            var isVirtualScroll = _this.parent.virtualScrollModule && _this.parent.virtualScrollModule.isHorizontalScroll && !isNullOrUndefined(closest(target, '.' + cls.CONTENT_TABLE_CLASS));\n            var conTable = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' table');\n            _this.quickPopup.offsetX = isVirtualScroll && !_this.parent.enableRtl ? util.getTranslateX(conTable) + 10 : 10;\n            _this.quickPopup.offsetY = _this.parent.virtualScrollModule && !_this.parent.virtualScrollModule.isHorizontalScroll ? _this.quickPopup.offsetY : 0;\n            _this.quickPopup.collision = {\n              X: _this.parent.enableRtl ? 'flip' : 'none',\n              Y: 'fit'\n            };\n            _this.quickPopup.position = {\n              X: _this.parent.enableRtl ? 'left' : 'right',\n              Y: _this.parent.enableRtl ? 'bottom' : 'top'\n            };\n            _this.quickPopup.dataBind();\n            _this.quickPopup.refreshPosition(null, true);\n            var collide = isCollide(_this.quickPopup.element, _this.parent.element);\n            if (collide.indexOf(_this.parent.enableRtl ? 'left' : 'right') > -1) {\n              _this.quickPopup.offsetX = -target.offsetWidth - 10 - _this.quickPopup.element.offsetWidth;\n              if (isVirtualScroll && !_this.parent.enableRtl) {\n                _this.quickPopup.offsetX = util.getTranslateX(conTable) + _this.quickPopup.offsetX;\n              }\n              _this.quickPopup.dataBind();\n              _this.quickPopup.refreshPosition(null, true);\n              var leftCollide = isCollide(_this.quickPopup.element, _this.parent.element);\n              if (leftCollide.indexOf('left') > -1) {\n                _this.quickPopup.position = {\n                  X: 'center',\n                  Y: 'center'\n                };\n                _this.quickPopup.collision = {\n                  X: 'fit',\n                  Y: 'fit'\n                };\n                _this.quickPopup.offsetX = -(_this.quickPopup.element.offsetWidth / 2);\n                _this.quickPopup.dataBind();\n              }\n            }\n            if (_this.parent.virtualScrollModule && !_this.parent.virtualScrollModule.isHorizontalScroll && (collide.indexOf('top') > -1 || collide.indexOf('bottom') > -1)) {\n              var translateY = util.getTranslateY(conTable);\n              _this.quickPopup.offsetY = translateY;\n              _this.quickPopup.dataBind();\n              _this.quickPopup.refreshPosition(null, true);\n            }\n            if (_this.quickPopup.position.X === 'center' && _this.quickPopup.position.Y === 'center' && !isNullOrUndefined(originalEvent) && originalEvent.clientX && originalEvent.clientY) {\n              var clientX = originalEvent.clientX;\n              var clientY = originalEvent.clientY;\n              var targetRect = target.getBoundingClientRect();\n              var offsetY = originalEvent.offsetY || Math.ceil(clientY - targetRect.y);\n              var previousOffset = _this.quickPopup.offsetY;\n              var collision = isCollide(_this.quickPopup.element, target);\n              var popupRect = _this.quickPopup.element.getBoundingClientRect();\n              var targetEle = document.elementFromPoint(clientX, clientY);\n              if (collision.indexOf('top') > -1 || collision.indexOf('bottom') > -1 || closest(targetEle, '.' + cls.POPUP_WRAPPER_CLASS)) {\n                if (popupRect.top <= clientY && clientY <= popupRect.top + popupRect.height) {\n                  _this.quickPopup.offsetY = previousOffset - popupRect.height - 10;\n                  _this.quickPopup.dataBind();\n                  collision = isCollide(_this.quickPopup.element, _this.parent.element);\n                  if (collision.indexOf('top') > -1) {\n                    _this.quickPopup.offsetY = previousOffset + offsetY + 10;\n                    _this.quickPopup.dataBind();\n                  }\n                } else if (isCollide(_this.quickPopup.element, _this.parent.element).indexOf('bottom') > -1) {\n                  _this.quickPopup.offsetY = previousOffset - offsetY - Math.ceil(popupRect.height) - 10;\n                  _this.quickPopup.dataBind();\n                }\n              }\n            }\n          }\n          if (isEventPopup) {\n            _this.applyEventColor();\n          }\n          _this.quickPopup.element.style.display = display;\n          _this.quickPopup.dataBind();\n          _this.quickPopup.show();\n        }\n      });\n    });\n  };\n  QuickPopups.prototype.applyEventColor = function () {\n    var colorField = '';\n    if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n      colorField = this.parent.enableRtl ? 'border-right-color' : 'border-left-color';\n    } else {\n      colorField = 'background-color';\n    }\n    var color = this.parent.activeEventData.element.style[colorField];\n    if (color === '') {\n      return;\n    }\n    var colorEle = this.quickPopup.element.querySelector('.' + cls.POPUP_HEADER_CLASS);\n    var footerEle = this.quickPopup.element.querySelector('.' + cls.POPUP_FOOTER_CLASS);\n    if (footerEle && footerEle.offsetParent) {\n      colorEle = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n      if (colorEle) {\n        colorEle.style.borderLeftColor = color;\n        color = \"rgba(\" + color.match(/\\d+/g).join() + \",0.3)\";\n      }\n    }\n    if (colorEle) {\n      colorEle.style.backgroundColor = color;\n    }\n  };\n  QuickPopups.prototype.quickPopupOpen = function () {\n    if (this.parent.isAdaptive) {\n      this.quickPopup.element.style.top = '0px';\n      return;\n    }\n    if (this.quickPopup.element.querySelector('.' + cls.CELL_POPUP_CLASS)) {\n      var subjectElement = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n      if (subjectElement) {\n        subjectElement.focus();\n      }\n    } else {\n      var editElement = this.quickPopup.element.querySelector('.' + cls.EDIT_EVENT_CLASS);\n      if (editElement) {\n        editElement.focus();\n      }\n      var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n      if (editIcon) {\n        editIcon.focus();\n      }\n    }\n  };\n  QuickPopups.prototype.quickPopupClose = function () {\n    this.parent.eventBase.focusElement();\n    this.quickPopup.relateTo = '.' + cls.WORK_CELLS_CLASS;\n    this.fieldValidator.destroyToolTip();\n    if (this.quickPopup.element.querySelectorAll('.e-formvalidator').length) {\n      this.fieldValidator.destroy();\n    }\n    this.destroyPopupButtons('quickPopup');\n    util.removeChildren(this.quickPopup.element);\n  };\n  QuickPopups.prototype.morePopupOpen = function () {\n    if (this.parent.isAdaptive) {\n      this.morePopup.element.style.top = '0px';\n      this.morePopup.element.style.left = '0px';\n      this.morePopup.element.style.height = formatUnit(window.innerHeight);\n      return;\n    }\n    this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS).focus();\n    this.morePopup.refreshPosition();\n  };\n  QuickPopups.prototype.morePopupClose = function () {\n    var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_EVENT_WRAPPER_CLASS);\n    if (moreWrapper) {\n      remove(moreWrapper);\n    }\n  };\n  QuickPopups.prototype.popupClose = function (event) {\n    this.dialogEvent = event;\n    this.isCrudAction = false;\n    this.quickPopupHide(true);\n  };\n  QuickPopups.prototype.quickPopupHide = function (hideAnimation) {\n    var _this = this;\n    if (!this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n      return;\n    }\n    var isCellPopup = this.quickPopup.element.querySelector('.' + cls.CELL_POPUP_CLASS);\n    var popupData;\n    if (isCellPopup) {\n      var formvalidator = this.quickPopup.element.querySelector('.e-formvalidator');\n      if (this.isCrudAction && formvalidator && !formvalidator.ej2_instances[0].validate()) {\n        return;\n      }\n      var fields = this.parent.eventFields;\n      var saveObj = this.parent.eventWindow.getObjectFromFormData(cls.POPUP_WRAPPER_CLASS);\n      this.parent.eventWindow.setDefaultValueToObject(saveObj);\n      saveObj[fields.id] = this.parent.eventBase.getEventMaxID();\n      saveObj[fields.startTime] = this.parent.activeCellsData.startTime;\n      saveObj[fields.endTime] = this.parent.activeCellsData.endTime;\n      saveObj[fields.isAllDay] = this.parent.activeCellsData.isAllDay;\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.setResourceValues(saveObj);\n      }\n      popupData = saveObj;\n    } else {\n      popupData = this.parent.activeEventData.event;\n    }\n    var isEventPopup = this.quickPopup.element.querySelector('.' + cls.EVENT_POPUP_CLASS);\n    var args = {\n      event: this.dialogEvent,\n      type: this.parent.isAdaptive ? isEventPopup ? 'ViewEventInfo' : 'EditEventInfo' : 'QuickInfo',\n      cancel: false,\n      data: popupData,\n      element: this.quickPopup.element,\n      target: isCellPopup ? this.parent.activeCellsData.element : this.parent.activeEventData.element\n    };\n    this.parent.trigger(event.popupClose, args, function (popupCloseArgs) {\n      if (!popupCloseArgs.cancel) {\n        if (_this.quickPopup.element.classList.contains('e-popup-open')) {\n          if (isCellPopup && _this.isCrudAction) {\n            _this.parent.currentAction = 'Add';\n            _this.parent.crudModule.addEvent(popupCloseArgs.data);\n          }\n          if (hideAnimation) {\n            var animation = _this.quickPopup.hideAnimation;\n            _this.quickPopup.hideAnimation = null;\n            _this.quickPopup.hide();\n            _this.quickPopup.hideAnimation = animation;\n          } else {\n            _this.quickPopup.hide();\n          }\n          _this.isMultipleEventSelect = false;\n          _this.isCrudAction = false;\n        }\n      }\n    });\n  };\n  QuickPopups.prototype.navigationClick = function (e) {\n    var navigateEle = closest(e.target, '.' + cls.NAVIGATE_CLASS);\n    if (!isNullOrUndefined(navigateEle)) {\n      var date = this.parent.getDateFromElement(e.currentTarget);\n      if (!isNullOrUndefined(date)) {\n        this.closeClick(e);\n        this.parent.setProperties({\n          selectedDate: date\n        }, true);\n        this.parent.changeView(this.parent.getNavigateView(), e);\n      }\n    }\n  };\n  QuickPopups.prototype.documentClick = function (e) {\n    var target = e.event.target;\n    var classNames = '.' + cls.POPUP_WRAPPER_CLASS + ',.' + cls.HEADER_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' + cls.WORK_CELLS_CLASS + ',.' + cls.APPOINTMENT_CLASS + ',.e-popup';\n    var popupWrap = this.parent.element.querySelector('.' + cls.POPUP_WRAPPER_CLASS);\n    if (popupWrap && popupWrap.childElementCount > 0 && !closest(target, classNames) || !closest(target, classNames)) {\n      this.quickPopupHide();\n      this.parent.removeNewEventElement();\n    }\n    var tar = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    if (tar && tar !== target && this.parent.allowInline) {\n      this.parent.inlineModule.documentClick();\n    }\n    if (closest(target, '.' + cls.APPOINTMENT_CLASS + ',.' + cls.HEADER_CELLS_CLASS)) {\n      this.parent.removeNewEventElement();\n    }\n    if (!closest(target, '.' + cls.MORE_POPUP_WRAPPER_CLASS) && target.classList && !target.classList.contains(cls.MORE_INDICATOR_CLASS) && !closest(target, '.' + cls.POPUP_OPEN) && !closest(target, '.' + cls.WORK_CELLS_CLASS)) {\n      this.morePopup.hide();\n    }\n  };\n  QuickPopups.prototype.onClosePopup = function (event) {\n    if (!isNullOrUndefined(event)) {\n      this.dialogEvent = event;\n    }\n    this.quickPopupHide();\n    this.parent.eventBase.focusElement();\n  };\n  QuickPopups.prototype.addEventListener = function () {\n    this.parent.on(event.cellClick, this.cellClick, this);\n    this.parent.on(event.eventClick, this.eventClick, this);\n    this.parent.on(event.documentClick, this.documentClick, this);\n    this.parent.on(event.dataReady, this.updateMoreEventContent, this);\n  };\n  QuickPopups.prototype.removeEventListener = function () {\n    this.parent.off(event.cellClick, this.cellClick);\n    this.parent.off(event.eventClick, this.eventClick);\n    this.parent.off(event.documentClick, this.documentClick);\n    this.parent.off(event.dataReady, this.updateMoreEventContent);\n  };\n  QuickPopups.prototype.destroyPopupButtons = function (popupName) {\n    var popup = popupName === 'quickPopup' ? this.quickPopup : this.morePopup;\n    var buttonCollections = [].slice.call(popup.element.querySelectorAll('.e-control.e-btn'));\n    for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n      var button = buttonCollections_1[_i];\n      var instance = button.ej2_instances[0];\n      if (instance) {\n        instance.destroy();\n      }\n    }\n  };\n  QuickPopups.prototype.refreshQuickDialog = function () {\n    this.destroyQuickDialog();\n    this.renderQuickDialog();\n  };\n  QuickPopups.prototype.refreshQuickPopup = function () {\n    this.destroyQuickPopup();\n    this.renderQuickPopup();\n  };\n  QuickPopups.prototype.refreshMorePopup = function () {\n    this.destroyMorePopup();\n    this.renderMorePopup();\n  };\n  QuickPopups.prototype.destroyQuickDialog = function () {\n    if (this.quickDialog.element) {\n      this.quickDialog.destroy();\n      remove(this.quickDialog.element);\n      this.quickDialog = null;\n    }\n  };\n  QuickPopups.prototype.destroyQuickPopup = function () {\n    if (this.quickPopup.element) {\n      this.destroyPopupButtons('quickPopup');\n      this.quickPopup.destroy();\n      remove(this.quickPopup.element);\n      this.quickPopup = null;\n    }\n  };\n  QuickPopups.prototype.destroyMorePopup = function () {\n    if (this.morePopup.element) {\n      this.destroyPopupButtons('morePopup');\n      this.morePopup.destroy();\n      remove(this.morePopup.element);\n      this.morePopup = null;\n    }\n  };\n  QuickPopups.prototype.destroy = function () {\n    if (this.quickPopup.element.querySelectorAll('.e-formvalidator').length) {\n      this.fieldValidator.destroy();\n    }\n    this.removeEventListener();\n    this.destroyQuickPopup();\n    this.destroyMorePopup();\n    this.destroyQuickDialog();\n    this.dialogEvent = null;\n    this.parent = null;\n    this.l10n = null;\n    this.isCrudAction = null;\n    this.fieldValidator = null;\n    this.isMultipleEventSelect = null;\n  };\n  return QuickPopups;\n}();\nexport { QuickPopups };","map":{"version":3,"names":["closest","EventHandler","isNullOrUndefined","formatUnit","append","addClass","removeClass","createElement","remove","extend","Dialog","Popup","isCollide","Button","Input","FieldValidator","event","cls","util","EVENT_FIELD","QuickPopups","parent","isMultipleEventSelect","isCrudAction","l10n","localeObj","fieldValidator","render","addEventListener","prototype","renderQuickPopup","renderMorePopup","renderQuickDialog","quickPopupWrapper","className","POPUP_WRAPPER_CLASS","isAdaptive","document","body","appendChild","DEVICE_CLASS","element","quickPopup","targetType","enableRtl","open","quickPopupOpen","bind","close","quickPopupClose","hideAnimation","name","duration","showAnimation","collision","X","Y","position","viewPortElement","zIndex","moreEventPopup","MORE_EVENT_POPUP_CLASS","MORE_EVENT_HEADER_CLASS","MORE_EVENT_CLOSE_CLASS","getConstant","MORE_EVENT_DATE_HEADER_CLASS","MORE_EVENT_HEADER_DAY_CLASS","MORE_EVENT_HEADER_DATE_CLASS","NAVIGATE_CLASS","moreEventWrapper","MORE_POPUP_WRAPPER_CLASS","innerHTML","morePopup","morePopupOpen","morePopupClose","closeButton","querySelector","renderButton","ICON","CLOSE_ICON_CLASS","closeClick","add","navigationClick","buttonModel","cssClass","isPrimary","click","dialogButtonClick","eventSettings","editFollowingEvents","followingSeriesButton","splice","quickDialog","animationSettings","effect","buttons","QUICK_DIALOG_CLASS","closeOnEscape","enableHtmlSanitizer","beforeClose","beforeQuickDialogClose","isModal","showCloseIcon","target","visible","width","dialogElement","id","appendTo","okButton","QUICK_DIALOG_ALERT_OK","setAttribute","cancelButton","QUICK_DIALOG_ALERT_CANCEL","iconName","isDisabled","clickEvent","buttonObj","disabled","iconCss","quickDialogClass","action","classList","QUICK_DIALOG_OCCURRENCE_CLASS","QUICK_DIALOG_SERIES_CLASS","QUICK_DIALOG_DELETE_CLASS","QUICK_DIALOG_CANCEL_CLASS","QUICK_DIALOG_ALERT_BTN_CLASS","DISABLE_CLASS","followingEventButton","QUICK_DIALOG_ALERT_FOLLOWING","FOLLOWING_EVENTS_DIALOG","QUICK_DIALOG_FOLLOWING_EVENTS_CLASS","applyFormValidation","form","FORM_CLASS","rules","fields","subject","validation","renderFormValidator","locale","openRecurrenceAlert","editDeleteOnly","currentAction","editFollowingEventsOnly","editDeleteSeries","content","header","showQuickDialog","openRecurrenceValidationAlert","type","dialogCancel","enableRecurrenceValidation","openDeleteAlert","activeViewOptions","readonly","activeEventData","length","openValidationError","eventData","popupType","_this","dataBind","eventProp","cancel","data","trigger","popupOpen","popupArgs","show","createMoreEventList","eventCollection","groupOrder","groupIndex","eventFields","moreEventContentEle","MORE_EVENT_CONTENT_CLASS","moreEventWrapperEle","MORE_EVENT_WRAPPER_CLASS","_loop_1","eventText","this_1","default","appointmentElement","APPOINTMENT_CLASS","attrs","Guid","eventBase","getReadonlyAttribute","getAnnouncementString","templateElement","eventTemplate","tempId","eventTemplateName","getAppointmentTemplate","SUBJECT_CLASS","sanitize","firstElementChild","recurrenceRule","iconClass","recurrenceID","EVENT_RECURRENCE_ICON_CLASS","EVENT_RECURRENCE_EDIT_ICON_CLASS","args","eventRendered","eventArgs","isPreventCrud","currentView","wireAppointmentEvents","applyResourceColor","_i","eventCollection_1","tapHoldEventPopup","e","selectedElements","getSelectedEventElements","getSelectedEvents","guid","getAttribute","eventObj","getEventByGuid","eventTitle","MULTIPLE_EVENT_POPUP_CLASS","POPUP_HEADER_CLASS","CLOSE_CLASS","EDIT_CLASS","DELETE_CLASS","closeIcon","isReadonly","editAction","allowEditing","deleteAction","allowDeleting","editIcon","EDIT_ICON_CLASS","editClick","deleteIcon","DELETE_ICON_CLASS","deleteClick","beforeQuickPopupOpen","getPageCoordinates","isCellBlocked","tempObj","startTime","activeCellsData","endTime","isAllDay","group","resources","targetCell","Array","parseInt","resourceBase","setResourceValues","isNaN","isBlockRange","cellClick","date","Date","getTime","showQuickInfo","allowAdding","isMinMaxDate","setHours","quickPopupHide","targetEle","newEventClone","NEW_EVENT_CLASS","WORK_CELLS_CLASS","ALLDAY_CELLS_CLASS","HEADER_CELLS_CLASS","contains","MORE_INDICATOR_CLASS","isSameTarget","relateTo","POPUP_OPEN","subjectElement_1","focus","destroyPopupButtons","temp","quickCellPopup","CELL_POPUP_CLASS","getPopupHeader","getPopupContent","getPopupFooter","subjectElement","createInput","properties","placeholder","value","popupClose","moreButton","QUICK_POPUP_EVENT_DETAILS_CLASS","detailsClick","saveButton","EVENT_CREATE_CLASS","saveClick","hide","isSameEventClick","events","editButton","EDIT_EVENT_CLASS","isQuickTemplate","quickInfoTemplates","templateType","eventClick","eventTooltip","updateTapHoldEventPopup","quickEventPopup","EVENT_POPUP_CLASS","buttonClass","deleteButton","DELETE_EVENT_CLASS","originalEvent","headerType","headerData","headerTemplate","headerArgs","elementType","toLowerCase","templateId","headerTemp","slice","call","getQuickInfoTemplatesHeader","POPUP_HEADER_ICON_WRAPPER","getFormattedString","SUBJECT_WRAP","TEXT_ELLIPSIS","eventSubject","replaceAll","templateWrapper","subjectText","childNodes","contentTemplate","POPUP_CONTENT_CLASS","contentArgs","contentTemp","getQuickInfoTemplatesContent","cellDetails","argsData","resourceText","getResourceText","POPUP_TABLE_CLASS","DATE_TIME_CLASS","DATE_TIME_ICON_CLASS","DATE_TIME_DETAILS_CLASS","details","RESOURCE_CLASS","RESOURCE_ICON_CLASS","RESOURCE_DETAILS_CLASS","DATE_TIME_WRAPPER_CLASS","RECURRENCE_SUMMARY_CLASS","getRecurrenceSummary","location","LOCATION_CLASS","LOCATION_ICON_CLASS","LOCATION_DETAILS_CLASS","startTimezone","endTimezone","TIME_ZONE_CLASS","TIME_ZONE_ICON_CLASS","TIME_ZONE_DETAILS_CLASS","getTimezone","description","DESCRIPTION_CLASS","DESCRIPTION_ICON_CLASS","DESCRIPTION_DETAILS_CLASS","resourceCollection","locationDetails","descriptionDetails","resourceDetails","footerType","footerData","footerTemplate","POPUP_FOOTER_CLASS","footer","footerArgs","footerTemp","getQuickInfoTemplatesFooter","resourceValue","resourceCollection_1","resourceData","dataSource","_loop_2","resourceId","field","indexOf","idField","id_1","resource","filter","textField","toString","resourceData_1","lastResource_1","i","isArray","resNames_1","lastResourceData_1","forEach","text","findIndexInData","push","join","lastResourceLevel","startDate","endDate","startDateDetails","getDateFormat","endDateDetails","getHours","getMinutes","addDays","startTimeDetail","getTimeString","endTimeDetail","spanLength","getDate","getUniversalTime","MS_PER_DAY","moreEventClick","selectedDate","day","globalize","formatDate","format","calendar","getCalendarMode","capitalizeFirstWord","dateElement","moreEventElements","CURRENTDATE_CLASS","resetTime","getCurrentTime","gIndex","tdDate","CONTENT_WRAP_CLASS","workCells","querySelectorAll","renderTemplates","dialogEvent","subjectEle","destroyToolTip","eventWindow","openEditor","updateMoreEventContent","filterEvents","eventsProcessed","moreElement","selectCell","cancelBtn","crudModule","deleteEvent","getParentEvent","uiStateValues","isIgnoreOccurrence","eventSave","titleContent","HIDDEN_CLASS","zoneDetails","recurrenceEditor","getRecurrenceEditorInstance","ruleSummary","getRuleSummary","charAt","toUpperCase","skeletonString","skeleton","getDataFromTarget","cellsData","convertToEventData","popupCloseArgs","focusElement","isEventPopup","removeChildren","display","style","removeAttribute","height","window","innerHeight","isVirtualScroll","virtualScrollModule","isHorizontalScroll","CONTENT_TABLE_CLASS","conTable","offsetX","getTranslateX","offsetY","refreshPosition","collide","offsetWidth","leftCollide","translateY","getTranslateY","clientX","clientY","targetRect","getBoundingClientRect","Math","ceil","y","previousOffset","popupRect","elementFromPoint","top","applyEventColor","colorField","color","colorEle","footerEle","offsetParent","borderLeftColor","match","backgroundColor","editElement","destroy","left","moreWrapper","isCellPopup","popupData","formvalidator","ej2_instances","validate","saveObj","getObjectFromFormData","setDefaultValueToObject","getEventMaxID","addEvent","animation","navigateEle","getDateFromElement","currentTarget","setProperties","changeView","getNavigateView","documentClick","classNames","popupWrap","childElementCount","removeNewEventElement","tar","INLINE_SUBJECT_CLASS","allowInline","inlineModule","onClosePopup","on","dataReady","removeEventListener","off","popupName","popup","buttonCollections","buttonCollections_1","button","instance","refreshQuickDialog","destroyQuickDialog","refreshQuickPopup","destroyQuickPopup","refreshMorePopup","destroyMorePopup"],"sources":["C:/react_test/my-app/node_modules/@syncfusion/ej2-schedule/src/schedule/popups/quick-popups.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { closest, EventHandler, isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, createElement, remove, extend } from '@syncfusion/ej2-base';\nimport { Dialog, Popup, isCollide } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { FieldValidator } from './form-validator';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\nvar EVENT_FIELD = 'e-field';\n/**\n * Quick Popups interactions\n */\nvar QuickPopups = /** @class */ (function () {\n    function QuickPopups(parent) {\n        this.isMultipleEventSelect = false;\n        this.isCrudAction = false;\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.fieldValidator = new FieldValidator();\n        this.render();\n        this.addEventListener();\n    }\n    QuickPopups.prototype.render = function () {\n        this.renderQuickPopup();\n        this.renderMorePopup();\n        this.renderQuickDialog();\n    };\n    QuickPopups.prototype.renderQuickPopup = function () {\n        var quickPopupWrapper = createElement('div', { className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close' });\n        if (this.parent.isAdaptive) {\n            document.body.appendChild(quickPopupWrapper);\n            addClass([quickPopupWrapper], cls.DEVICE_CLASS);\n        }\n        else {\n            this.parent.element.appendChild(quickPopupWrapper);\n        }\n        this.quickPopup = new Popup(quickPopupWrapper, {\n            targetType: (this.parent.isAdaptive ? 'container' : 'relative'),\n            enableRtl: this.parent.enableRtl,\n            open: this.quickPopupOpen.bind(this),\n            close: this.quickPopupClose.bind(this),\n            hideAnimation: (this.parent.isAdaptive ? { name: 'ZoomOut' } : { name: 'FadeOut', duration: 150 }),\n            showAnimation: (this.parent.isAdaptive ? { name: 'ZoomIn' } : { name: 'FadeIn', duration: 150 }),\n            collision: (this.parent.isAdaptive ? { X: 'fit', Y: 'fit' } :\n                (this.parent.enableRtl ? { X: 'flip', Y: 'fit' } : { X: 'none', Y: 'fit' })),\n            position: (this.parent.isAdaptive || this.parent.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }),\n            viewPortElement: (this.parent.isAdaptive ? document.body : this.parent.element),\n            zIndex: (this.parent.isAdaptive ? 1004 : 3)\n        });\n    };\n    QuickPopups.prototype.renderMorePopup = function () {\n        var moreEventPopup = \"<div class=\\\"\" + cls.MORE_EVENT_POPUP_CLASS + \"\\\"><div class=\\\"\" + cls.MORE_EVENT_HEADER_CLASS + \"\\\">\" +\n            (\"<div class=\\\"\" + cls.MORE_EVENT_CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\" tabindex=\\\"0\\\"></div>\") +\n            (\"<div class=\\\"\" + cls.MORE_EVENT_DATE_HEADER_CLASS + \"\\\"><div class=\\\"\" + cls.MORE_EVENT_HEADER_DAY_CLASS + \"\\\"></div>\") +\n            (\"<div class=\\\"\" + cls.MORE_EVENT_HEADER_DATE_CLASS + \" \" + cls.NAVIGATE_CLASS + \"\\\" tabindex=\\\"0\\\"></div></div></div></div>\");\n        var moreEventWrapper = createElement('div', {\n            className: cls.MORE_POPUP_WRAPPER_CLASS + ' e-popup-close',\n            innerHTML: moreEventPopup\n        });\n        if (this.parent.isAdaptive) {\n            document.body.appendChild(moreEventWrapper);\n            addClass([moreEventWrapper], cls.DEVICE_CLASS);\n        }\n        else {\n            this.parent.element.appendChild(moreEventWrapper);\n        }\n        this.morePopup = new Popup(moreEventWrapper, {\n            targetType: (this.parent.isAdaptive ? 'container' : 'relative'),\n            enableRtl: this.parent.enableRtl,\n            hideAnimation: { name: 'ZoomOut', duration: 300 },\n            showAnimation: { name: 'ZoomIn', duration: 300 },\n            open: this.morePopupOpen.bind(this),\n            close: this.morePopupClose.bind(this),\n            collision: (this.parent.isAdaptive ? { X: 'fit', Y: 'fit' } :\n                (this.parent.enableRtl ? { X: 'flip', Y: 'fit' } : { X: 'flip', Y: 'flip' })),\n            viewPortElement: (this.parent.isAdaptive ? document.body : this.parent.element),\n            zIndex: (this.parent.isAdaptive ? 1002 : 2)\n        });\n        var closeButton = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CLOSE_CLASS);\n        this.renderButton('e-round', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeButton, this.closeClick);\n        EventHandler.add(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS), 'click', this.navigationClick, this);\n    };\n    QuickPopups.prototype.renderQuickDialog = function () {\n        var buttonModel = [\n            { buttonModel: { cssClass: 'e-quick-alertok e-flat', isPrimary: true }, click: this.dialogButtonClick.bind(this) },\n            { buttonModel: { cssClass: 'e-quick-alertcancel e-flat', isPrimary: false }, click: this.dialogButtonClick.bind(this) },\n            {\n                buttonModel: { cssClass: 'e-quick-dialog-cancel e-disable e-flat', isPrimary: false },\n                click: this.dialogButtonClick.bind(this)\n            }\n        ];\n        if (this.parent.eventSettings.editFollowingEvents) {\n            var followingSeriesButton = {\n                buttonModel: { cssClass: 'e-quick-alertfollowing e-flat', isPrimary: false }, click: this.dialogButtonClick.bind(this)\n            };\n            buttonModel.splice(1, 0, followingSeriesButton);\n        }\n        this.quickDialog = new Dialog({\n            animationSettings: { effect: 'Zoom' },\n            buttons: buttonModel,\n            cssClass: cls.QUICK_DIALOG_CLASS,\n            closeOnEscape: true,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeClose: this.beforeQuickDialogClose.bind(this),\n            isModal: true,\n            position: { X: 'center', Y: 'center' },\n            showCloseIcon: true,\n            target: document.body,\n            visible: false,\n            width: 'auto'\n        });\n        var dialogElement = createElement('div', { id: this.parent.element.id + 'QuickDialog' });\n        this.parent.element.appendChild(dialogElement);\n        this.quickDialog.appendTo(dialogElement);\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (okButton) {\n            okButton.setAttribute('aria-label', this.l10n.getConstant('occurrence'));\n            okButton.setAttribute('aria-label', okButton.innerHTML);\n        }\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (cancelButton) {\n            cancelButton.setAttribute('aria-label', this.l10n.getConstant('series'));\n            cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n        }\n        if (this.quickDialog.element.querySelector('.e-dlg-closeicon-btn')) {\n            this.quickDialog.element.querySelector('.e-dlg-closeicon-btn').setAttribute('title', this.l10n.getConstant('close'));\n        }\n    };\n    // eslint-disable-next-line max-len\n    QuickPopups.prototype.renderButton = function (className, iconName, isDisabled, element, clickEvent) {\n        var buttonObj = new Button({\n            cssClass: className,\n            disabled: isDisabled,\n            enableRtl: this.parent.enableRtl,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            iconCss: iconName\n        });\n        buttonObj.appendTo(element);\n        EventHandler.add(element, 'click', clickEvent, this);\n        removeClass([element], cls.ICON);\n    };\n    QuickPopups.prototype.quickDialogClass = function (action) {\n        var classList = [\n            cls.QUICK_DIALOG_OCCURRENCE_CLASS, cls.QUICK_DIALOG_SERIES_CLASS, cls.QUICK_DIALOG_DELETE_CLASS,\n            cls.QUICK_DIALOG_CANCEL_CLASS, cls.QUICK_DIALOG_ALERT_BTN_CLASS, cls.DISABLE_CLASS\n        ];\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        var followingEventButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_FOLLOWING);\n        removeClass([okButton, cancelButton], classList);\n        addClass([this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_CANCEL_CLASS)], cls.DISABLE_CLASS);\n        if (this.parent.eventSettings.editFollowingEvents) {\n            addClass([followingEventButton], cls.DISABLE_CLASS);\n            removeClass([this.quickDialog.element], cls.FOLLOWING_EVENTS_DIALOG);\n        }\n        switch (action) {\n            case 'Recurrence':\n                addClass([okButton], cls.QUICK_DIALOG_OCCURRENCE_CLASS);\n                addClass([cancelButton], cls.QUICK_DIALOG_SERIES_CLASS);\n                if (this.parent.eventSettings.editFollowingEvents) {\n                    removeClass([followingEventButton], cls.DISABLE_CLASS);\n                    addClass([this.quickDialog.element], cls.FOLLOWING_EVENTS_DIALOG);\n                    addClass([followingEventButton], cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS);\n                }\n                break;\n            case 'Delete':\n                addClass([okButton], cls.QUICK_DIALOG_DELETE_CLASS);\n                addClass([cancelButton], cls.QUICK_DIALOG_CANCEL_CLASS);\n                break;\n            case 'Alert':\n                addClass([okButton], [cls.QUICK_DIALOG_ALERT_OK, cls.QUICK_DIALOG_ALERT_BTN_CLASS]);\n                addClass([cancelButton], [cls.QUICK_DIALOG_ALERT_CANCEL, cls.DISABLE_CLASS]);\n                break;\n        }\n    };\n    QuickPopups.prototype.applyFormValidation = function () {\n        var form = this.quickPopup.element.querySelector('.' + cls.FORM_CLASS);\n        var rules = {};\n        rules[this.parent.eventSettings.fields.subject.name] = this.parent.eventSettings.fields.subject.validation;\n        this.fieldValidator.renderFormValidator(form, rules, this.quickPopup.element, this.parent.locale);\n    };\n    QuickPopups.prototype.openRecurrenceAlert = function () {\n        var editDeleteOnly = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (editDeleteOnly) {\n            editDeleteOnly.innerHTML = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteEvent' : 'editEvent');\n            editDeleteOnly.setAttribute('aria-label', editDeleteOnly.innerHTML);\n        }\n        var editFollowingEventsOnly = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_FOLLOWING);\n        if (editFollowingEventsOnly) {\n            editFollowingEventsOnly.innerHTML = this.l10n.getConstant('editFollowingEvent');\n            editFollowingEventsOnly.setAttribute('aria-label', editFollowingEventsOnly.innerHTML);\n        }\n        var editDeleteSeries = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (editDeleteSeries) {\n            editDeleteSeries.innerHTML = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteSeries' : 'editSeries');\n            editDeleteSeries.setAttribute('aria-label', editDeleteSeries.innerHTML);\n        }\n        this.quickDialog.content = this.l10n.getConstant('editContent');\n        this.quickDialog.header = this.l10n.getConstant(this.parent.currentAction === 'Delete' ? 'deleteTitle' : 'editTitle');\n        this.quickDialogClass('Recurrence');\n        this.showQuickDialog('RecurrenceAlert');\n    };\n    QuickPopups.prototype.openRecurrenceValidationAlert = function (type) {\n        this.quickDialogClass('Alert');\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        okButton.innerHTML = this.l10n.getConstant('ok');\n        okButton.setAttribute('aria-label', okButton.innerHTML);\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        cancelButton.innerHTML = this.l10n.getConstant('cancel');\n        cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n        this.quickDialog.header = this.l10n.getConstant('alert');\n        var dialogCancel;\n        switch (type) {\n            case 'wrongPattern':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('wrongPattern');\n                break;\n            case 'createError':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('createError');\n                break;\n            case 'sameDayAlert':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('sameDayAlert');\n                break;\n            case 'seriesChangeAlert':\n                dialogCancel = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_CANCEL_CLASS);\n                removeClass([cancelButton, dialogCancel], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('seriesChangeAlert');\n                okButton.innerHTML = this.l10n.getConstant('yes');\n                cancelButton.innerHTML = this.l10n.getConstant('no');\n                dialogCancel.innerHTML = this.l10n.getConstant('cancel');\n                break;\n            case 'occurrenceAlert':\n                addClass([cancelButton], cls.DISABLE_CLASS);\n                this.quickDialog.content = this.l10n.getConstant('occurenceAlert');\n                break;\n        }\n        if ((!this.parent.enableRecurrenceValidation && type === 'wrongPattern') || this.parent.enableRecurrenceValidation) {\n            this.showQuickDialog('RecurrenceValidationAlert');\n        }\n    };\n    QuickPopups.prototype.openDeleteAlert = function () {\n        if (this.parent.activeViewOptions.readonly) {\n            return;\n        }\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (okButton) {\n            okButton.innerHTML = this.l10n.getConstant('delete');\n            okButton.setAttribute('aria-label', okButton.innerHTML);\n        }\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (cancelButton) {\n            cancelButton.innerHTML = this.l10n.getConstant('cancel');\n            cancelButton.setAttribute('aria-label', cancelButton.innerHTML);\n        }\n        this.quickDialog.content = (this.parent.activeEventData.event.length > 1) ?\n            this.l10n.getConstant('deleteMultipleContent') : this.l10n.getConstant('deleteContent');\n        this.quickDialog.header = (this.parent.activeEventData.event.length > 1) ?\n            this.l10n.getConstant('deleteMultipleEvent') : this.l10n.getConstant('deleteEvent');\n        this.quickDialogClass('Delete');\n        this.showQuickDialog('DeleteAlert');\n    };\n    QuickPopups.prototype.openValidationError = function (type, eventData) {\n        this.quickDialog.header = this.l10n.getConstant('alert');\n        this.quickDialog.content = this.l10n.getConstant(type);\n        var okButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_OK);\n        if (okButton) {\n            okButton.innerHTML = this.l10n.getConstant('ok');\n            okButton.setAttribute('aria-label', okButton.innerHTML);\n        }\n        var cancelButton = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        if (cancelButton) {\n            cancelButton.innerHTML = this.l10n.getConstant('cancel');\n            okButton.setAttribute('aria-label', cancelButton.innerHTML);\n        }\n        this.quickDialogClass('Alert');\n        this.showQuickDialog('ValidationAlert', eventData);\n    };\n    QuickPopups.prototype.showQuickDialog = function (popupType, eventData) {\n        var _this = this;\n        this.quickDialog.dataBind();\n        var eventProp = {\n            type: popupType, cancel: false, element: this.quickDialog.element,\n            data: extend({}, (eventData || this.parent.activeEventData.event), null, true)\n        };\n        this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n            if (!popupArgs.cancel) {\n                _this.quickDialog.show();\n            }\n        });\n    };\n    QuickPopups.prototype.createMoreEventList = function (eventCollection, groupOrder, groupIndex) {\n        var _this = this;\n        var fields = this.parent.eventFields;\n        var moreEventContentEle = createElement('div', { className: cls.MORE_EVENT_CONTENT_CLASS });\n        var moreEventWrapperEle = createElement('div', { className: cls.MORE_EVENT_WRAPPER_CLASS });\n        if (eventCollection.length === 0) {\n            moreEventWrapperEle = createElement('div', {\n                className: cls.MORE_EVENT_CONTENT_CLASS,\n                innerHTML: this.l10n.getConstant('emptyContainer')\n            });\n        }\n        else {\n            var _loop_1 = function (eventData) {\n                var eventText = (eventData[fields.subject] || this_1.parent.eventSettings.fields.subject.default\n                    || this_1.parent.localeObj.getConstant('addTitle'));\n                var appointmentElement = createElement('div', {\n                    className: cls.APPOINTMENT_CLASS,\n                    attrs: {\n                        'data-id': '' + eventData[fields.id],\n                        'data-guid': eventData.Guid, 'role': 'button', 'tabindex': '0',\n                        'aria-disabled': this_1.parent.eventBase.getReadonlyAttribute(eventData),\n                        'aria-label': this_1.parent.getAnnouncementString(eventData)\n                    }\n                });\n                var templateElement = void 0;\n                if (!isNullOrUndefined(this_1.parent.activeViewOptions.eventTemplate)) {\n                    var tempId = this_1.parent.element.id + '_' + this_1.parent.activeViewOptions.eventTemplateName + 'eventTemplate';\n                    templateElement = this_1.parent.getAppointmentTemplate()(eventData, this_1.parent, 'eventTemplate', tempId, false);\n                    append(templateElement, appointmentElement);\n                }\n                else {\n                    appointmentElement.appendChild(createElement('div', { className: cls.SUBJECT_CLASS }));\n                    this_1.parent.sanitize(eventText, appointmentElement.firstElementChild);\n                }\n                if (!isNullOrUndefined(groupIndex)) {\n                    appointmentElement.setAttribute('data-group-index', groupIndex);\n                }\n                if (!isNullOrUndefined(eventData[fields.recurrenceRule])) {\n                    var iconClass = (eventData[fields.id] === eventData[fields.recurrenceID]) ?\n                        cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n                    appointmentElement.appendChild(createElement('div', { className: cls.ICON + ' ' + iconClass }));\n                }\n                var args = {\n                    data: extend({}, eventData, null, true),\n                    element: appointmentElement, cancel: false\n                };\n                this_1.parent.trigger(event.eventRendered, args, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        moreEventWrapperEle.appendChild(appointmentElement);\n                        var isPreventCrud = _this.parent.isAdaptive || _this.parent.currentView === 'Year';\n                        _this.parent.eventBase.wireAppointmentEvents(appointmentElement, eventData, isPreventCrud);\n                        _this.parent.eventBase.applyResourceColor(appointmentElement, eventData, 'backgroundColor', groupOrder);\n                    }\n                });\n            };\n            var this_1 = this;\n            for (var _i = 0, eventCollection_1 = eventCollection; _i < eventCollection_1.length; _i++) {\n                var eventData = eventCollection_1[_i];\n                _loop_1(eventData);\n            }\n        }\n        moreEventContentEle.appendChild(moreEventWrapperEle);\n        return moreEventContentEle;\n    };\n    QuickPopups.prototype.tapHoldEventPopup = function (e) {\n        var target = closest(e.target, '.' + cls.APPOINTMENT_CLASS);\n        this.isMultipleEventSelect = false;\n        this.parent.selectedElements = [];\n        this.isMultipleEventSelect = true;\n        this.parent.eventBase.getSelectedEventElements(target);\n        this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n        var guid = target.getAttribute('data-guid');\n        var eventObj = this.parent.eventBase.getEventByGuid(guid);\n        if (isNullOrUndefined(eventObj)) {\n            return;\n        }\n        var eventTitle = (eventObj[this.parent.eventFields.subject] || this.l10n.getConstant('noTitle'));\n        var eventTemplate = \"<div class=\\\"\" + cls.MULTIPLE_EVENT_POPUP_CLASS + \"\\\"><div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\">\" +\n            (\"<button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\"></button>\") +\n            (\"<div class=\\\"\" + cls.SUBJECT_CLASS + \"\\\">\" + eventTitle + \"</div>\") +\n            (\"<button class=\\\"\" + cls.EDIT_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\"></button>\") +\n            (\"<button class=\\\"\" + cls.DELETE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\"></button></div></div>\");\n        this.quickPopup.element.innerHTML = eventTemplate;\n        var closeIcon = this.quickPopup.element.querySelector('.' + cls.CLOSE_CLASS);\n        this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.closeClick);\n        var readonly = this.parent.activeViewOptions.readonly || eventObj[this.parent.eventFields.isReadonly];\n        var editAction = !this.parent.eventSettings.allowEditing || readonly;\n        var deleteAction = !this.parent.eventSettings.allowDeleting || readonly;\n        var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n        if (editIcon) {\n            this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.EDIT_ICON_CLASS, editAction, editIcon, this.editClick);\n        }\n        var deleteIcon = this.quickPopup.element.querySelector('.' + cls.DELETE_CLASS);\n        if (deleteIcon) {\n            this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.DELETE_ICON_CLASS, deleteAction, deleteIcon, this.deleteClick);\n        }\n        this.beforeQuickPopupOpen(target, this.parent.eventBase.getPageCoordinates(e));\n    };\n    QuickPopups.prototype.isCellBlocked = function (args) {\n        var tempObj = {};\n        tempObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        tempObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        tempObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var targetCell = args.element instanceof Array ? args.element[0] : args.element;\n            var groupIndex = parseInt(targetCell.getAttribute('data-group-index'), 10);\n            this.parent.resourceBase.setResourceValues(tempObj, isNaN(groupIndex) ? null : groupIndex);\n        }\n        return this.parent.eventBase.isBlockRange(tempObj);\n    };\n    QuickPopups.prototype.cellClick = function (args) {\n        var date = new Date(args.startTime.getTime());\n        if (!this.parent.showQuickInfo || !this.parent.eventSettings.allowAdding ||\n            this.parent.currentView === 'MonthAgenda' || this.isCellBlocked(args) ||\n            !this.parent.isMinMaxDate(new Date(date.setHours(0, 0, 0, 0)))) {\n            this.quickPopupHide();\n            return;\n        }\n        var targetEle = !isNullOrUndefined(args.event) ? args.event.target : args.element;\n        if (this.parent.isAdaptive) {\n            this.quickPopupHide();\n            var newEventClone = this.parent.element.querySelector('.' + cls.NEW_EVENT_CLASS);\n            if (isNullOrUndefined(newEventClone)) {\n                newEventClone = createElement('div', {\n                    className: cls.NEW_EVENT_CLASS,\n                    innerHTML: \"<div class=\\\"e-title\\\">+ \" + this.l10n.getConstant('newEvent') + \"</div>\"\n                });\n            }\n            var targetCell = closest(targetEle, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS);\n            if (targetCell) {\n                targetCell.appendChild(newEventClone);\n            }\n            return;\n        }\n        var target = closest(targetEle, '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' +\n            cls.HEADER_CELLS_CLASS);\n        if (isNullOrUndefined(target) || targetEle.classList.contains(cls.MORE_INDICATOR_CLASS)) {\n            return;\n        }\n        var isSameTarget = this.quickPopup.relateTo === target;\n        if (isSameTarget && this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n            var subjectElement_1 = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (subjectElement_1) {\n                subjectElement_1.focus();\n            }\n            return;\n        }\n        else if (this.quickPopup.element) {\n            this.destroyPopupButtons('quickPopup');\n        }\n        var temp = {};\n        temp[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        temp[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        temp[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        var quickCellPopup = createElement('div', { className: cls.CELL_POPUP_CLASS });\n        quickCellPopup.appendChild(this.getPopupHeader('Cell', temp));\n        quickCellPopup.appendChild(this.getPopupContent('Cell', args, temp));\n        quickCellPopup.appendChild(this.getPopupFooter('Cell', temp));\n        var subjectElement = quickCellPopup.querySelector('.' + cls.SUBJECT_CLASS);\n        if (subjectElement) {\n            Input.createInput({ element: subjectElement, properties: { placeholder: this.l10n.getConstant('addTitle') } });\n        }\n        if (!isNullOrUndefined(this.parent.eventSettings.fields.subject.default)) {\n            subjectElement.value = this.parent.eventSettings.fields.subject.default;\n        }\n        var closeIcon = quickCellPopup.querySelector('.' + cls.CLOSE_CLASS);\n        if (closeIcon) {\n            this.renderButton('e-flat e-round e-small', cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.popupClose);\n        }\n        var moreButton = quickCellPopup.querySelector('.' + cls.QUICK_POPUP_EVENT_DETAILS_CLASS);\n        if (moreButton) {\n            this.renderButton('e-flat', '', false, moreButton, this.detailsClick);\n        }\n        var saveButton = quickCellPopup.querySelector('.' + cls.EVENT_CREATE_CLASS);\n        if (saveButton) {\n            this.renderButton('e-flat e-primary', '', this.parent.activeViewOptions.readonly, saveButton, this.saveClick);\n        }\n        if (this.morePopup) {\n            this.morePopup.hide();\n        }\n        this.quickPopup.content = quickCellPopup;\n        this.quickPopup.relateTo = target;\n        this.quickPopup.dataBind();\n        this.beforeQuickPopupOpen(target, this.parent.eventBase.getPageCoordinates(args.event));\n    };\n    QuickPopups.prototype.isSameEventClick = function (events) {\n        var isSameTarget = this.quickPopup.relateTo === closest(events.element, '.' + cls.APPOINTMENT_CLASS);\n        if (isSameTarget && this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n            var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n            if (editIcon) {\n                editIcon.focus();\n            }\n            if (!this.parent.isAdaptive) {\n                var editButton = this.quickPopup.element.querySelector('.' + cls.EDIT_EVENT_CLASS);\n                if (editButton) {\n                    editButton.focus();\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    QuickPopups.prototype.isQuickTemplate = function (type) {\n        return this.parent.quickInfoTemplates.templateType === 'Both' || this.parent.quickInfoTemplates.templateType === type;\n    };\n    QuickPopups.prototype.eventClick = function (events) {\n        if (this.parent.eventTooltip) {\n            this.parent.eventTooltip.close();\n        }\n        if (!this.parent.showQuickInfo) {\n            return;\n        }\n        if (this.parent.isAdaptive && this.isMultipleEventSelect) {\n            this.updateTapHoldEventPopup(closest(events.element, '.' + cls.APPOINTMENT_CLASS));\n        }\n        else {\n            var isSameTarget = this.isSameEventClick(events);\n            this.parent.selectedElements = [];\n            if (isSameTarget) {\n                return;\n            }\n            else if (this.quickPopup.element) {\n                this.destroyPopupButtons('quickPopup');\n            }\n            var eventData = events.event;\n            var quickEventPopup = createElement('div', { className: cls.EVENT_POPUP_CLASS });\n            quickEventPopup.appendChild(this.getPopupHeader('Event', eventData));\n            quickEventPopup.appendChild(this.getPopupContent('Event', events, eventData));\n            quickEventPopup.appendChild(this.getPopupFooter('Event', eventData));\n            var readonly = this.parent.activeViewOptions.readonly || eventData[this.parent.eventFields.isReadonly];\n            var editAction = !this.parent.eventSettings.allowEditing || readonly;\n            var deleteAction = !this.parent.eventSettings.allowDeleting || readonly;\n            var editIcon = quickEventPopup.querySelector('.' + cls.EDIT_CLASS);\n            var buttonClass = 'e-flat e-round e-small';\n            if (editIcon) {\n                this.renderButton(buttonClass, cls.ICON + ' ' + cls.EDIT_ICON_CLASS, editAction, editIcon, this.editClick);\n            }\n            var deleteIcon = quickEventPopup.querySelector('.' + cls.DELETE_CLASS);\n            if (deleteIcon) {\n                this.renderButton(buttonClass, cls.ICON + ' ' + cls.DELETE_ICON_CLASS, deleteAction, deleteIcon, this.deleteClick);\n            }\n            var closeIcon = quickEventPopup.querySelector('.' + cls.CLOSE_CLASS);\n            if (closeIcon) {\n                this.renderButton(buttonClass, cls.ICON + ' ' + cls.CLOSE_ICON_CLASS, false, closeIcon, this.popupClose);\n            }\n            var editButton = quickEventPopup.querySelector('.' + cls.EDIT_EVENT_CLASS);\n            if (editButton) {\n                this.renderButton('e-flat e-primary', '', editAction, editButton, this.editClick);\n            }\n            var deleteButton = quickEventPopup.querySelector('.' + cls.DELETE_EVENT_CLASS);\n            if (deleteButton) {\n                this.renderButton('e-flat', '', deleteAction, deleteButton, this.deleteClick);\n            }\n            if (this.morePopup && !closest(events.element, '.' + cls.MORE_EVENT_WRAPPER_CLASS)) {\n                this.morePopup.hide();\n            }\n            this.quickPopup.content = quickEventPopup;\n            this.quickPopup.relateTo = this.parent.isAdaptive ? document.body :\n                closest(events.element, '.' + cls.APPOINTMENT_CLASS);\n            this.quickPopup.dataBind();\n            this.beforeQuickPopupOpen(events.element, this.parent.eventBase.getPageCoordinates(events.originalEvent));\n        }\n    };\n    QuickPopups.prototype.getPopupHeader = function (headerType, headerData) {\n        var headerTemplate = createElement('div', { className: cls.POPUP_HEADER_CLASS });\n        if (this.isQuickTemplate(headerType) && this.parent.quickInfoTemplates.header) {\n            var headerArgs = extend({}, headerData, { elementType: headerType.toLowerCase() }, true);\n            var templateId = this.parent.element.id;\n            var headerTemp = [].slice.call(this.parent.getQuickInfoTemplatesHeader()(headerArgs, this.parent, 'header', templateId + '_headerTemplate', false));\n            append([].slice.call(headerTemp), headerTemplate);\n        }\n        else {\n            var header = void 0;\n            var args = void 0;\n            switch (headerType) {\n                case 'Cell':\n                    header = \"<div class=\\\"\" + cls.POPUP_HEADER_ICON_WRAPPER + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\" +\n                        (\"\\\"\" + this.l10n.getConstant('close') + \"\\\"></button></div>\");\n                    break;\n                case 'Event':\n                    args = this.getFormattedString(headerData);\n                    header = \"<div class=\\\"\" + cls.POPUP_HEADER_ICON_WRAPPER + \"\\\">\" +\n                        (\"<button class=\\\"\" + (cls.EDIT_CLASS + ' ' + cls.ICON) + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\"></button>\") +\n                        (\"<button class=\\\"\" + (cls.DELETE_CLASS + ' ' + cls.ICON) + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\"></button>\") +\n                        (\"<button class=\\\"\" + cls.CLOSE_CLASS + \"\\\" title=\\\"\" + this.l10n.getConstant('close') + \"\\\"></button></div>\") +\n                        (\"<div class=\\\"\" + cls.SUBJECT_WRAP + \"\\\"><div class=\\\"\" + cls.SUBJECT_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" \") +\n                        (\"title=\\\"\" + (args.eventSubject ? args.eventSubject.replaceAll('\"', '\\'') : args.eventSubject) + \"\\\"></div></div >\");\n                    break;\n            }\n            var templateWrapper = createElement('div', { innerHTML: header });\n            if (headerType === 'Event') {\n                var subjectText = templateWrapper.querySelector('.' + cls.SUBJECT_CLASS);\n                this.parent.sanitize(args.eventSubject, subjectText);\n            }\n            append([].slice.call(templateWrapper.childNodes), headerTemplate);\n        }\n        return headerTemplate;\n    };\n    QuickPopups.prototype.getPopupContent = function (type, args, data) {\n        var contentTemplate = createElement('div', { className: cls.POPUP_CONTENT_CLASS });\n        if (this.isQuickTemplate(type) && this.parent.quickInfoTemplates.content) {\n            var contentArgs = extend({}, data, { elementType: type.toLowerCase() }, true);\n            var templateId = this.parent.element.id;\n            var contentTemp = [].slice.call(this.parent.getQuickInfoTemplatesContent()(contentArgs, this.parent, 'content', templateId + '_contentTemplate', false));\n            append([].slice.call(contentTemp), contentTemplate);\n        }\n        else {\n            var content = void 0;\n            var cellDetails = void 0;\n            var argsData = void 0;\n            var resourceText = this.getResourceText(args, type.toLowerCase());\n            switch (type) {\n                case 'Cell':\n                    cellDetails = this.getFormattedString(data);\n                    content = \"<table class=\\\"\" + cls.POPUP_TABLE_CLASS + \"\\\"><tbody><tr><td><form class=\\\"\" + cls.FORM_CLASS + \"\\\" onsubmit=\" +\n                        (\"\\\"return false;\\\"><input class=\\\"\" + cls.SUBJECT_CLASS + \" \" + EVENT_FIELD + \"\\\" type=\\\"text\\\" name=\") +\n                        (\"\\\"\" + this.parent.eventFields.subject + \"\\\" /></form></td></tr><tr><td><div class=\\\"\" + cls.DATE_TIME_CLASS + \"\\\">\") +\n                        (\"<div class=\\\"\" + cls.DATE_TIME_ICON_CLASS + \" \" + cls.ICON + \"\\\"></div><div class=\\\"\" + cls.DATE_TIME_DETAILS_CLASS + \" \") +\n                        (cls.TEXT_ELLIPSIS + \"\\\">\" + cellDetails.details + \"</div></div>\") +\n                        ((this.parent.activeViewOptions.group.resources.length > 0 ? \"<div class=\\\"\" + cls.RESOURCE_CLASS + \"\\\">\" +\n                            (\"<div class=\\\"\" + cls.RESOURCE_ICON_CLASS + \" \" + cls.ICON + \" \\\"></div><div class=\\\"\" + cls.RESOURCE_DETAILS_CLASS + \" \") +\n                            (cls.TEXT_ELLIPSIS + \"\\\"></div></div>\") : '') + \"</td></tr></tbody></table>\");\n                    break;\n                case 'Event':\n                    argsData = this.getFormattedString(data);\n                    content = '<div class=\"' + cls.DATE_TIME_CLASS + '\"><div class=\"' + cls.DATE_TIME_ICON_CLASS + ' ' + cls.ICON +\n                        '\"></div><div class=\"' + cls.DATE_TIME_WRAPPER_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"><div class=\"' +\n                        cls.DATE_TIME_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' + argsData.details + '</div>';\n                    if (data[this.parent.eventFields.recurrenceRule]) {\n                        content += '<div class=\"' + cls.RECURRENCE_SUMMARY_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' +\n                            this.getRecurrenceSummary(data) + '</div>';\n                    }\n                    content += '</div></div>';\n                    if (data[this.parent.eventFields.location]) {\n                        content += '<div class=\"' + cls.LOCATION_CLASS + '\"><div class=\"' + cls.LOCATION_ICON_CLASS + ' ' +\n                            cls.ICON + '\"></div><div class=\"' + cls.LOCATION_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n                    }\n                    if (data[this.parent.eventFields.startTimezone] || data[this.parent.eventFields.endTimezone]) {\n                        content += '<div class=\"' + cls.TIME_ZONE_CLASS + '\"><div class=\"' + cls.TIME_ZONE_ICON_CLASS + ' ' + cls.ICON +\n                            '\"></div><div class=\"' + cls.TIME_ZONE_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\">' +\n                            this.getTimezone(data) + '</div></div>';\n                    }\n                    if (data[this.parent.eventFields.description]) {\n                        content += '<div class=\"' + cls.DESCRIPTION_CLASS + '\"><div class=\"' + cls.DESCRIPTION_ICON_CLASS + ' ' + cls.ICON +\n                            '\"></div><div class=\"' + cls.DESCRIPTION_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n                    }\n                    if (this.parent.resourceCollection.length > 0) {\n                        content += '<div class=\"' + cls.RESOURCE_CLASS + '\"><div class=\"' + cls.RESOURCE_ICON_CLASS + ' ' + cls.ICON +\n                            '\"></div><div class=\"' + cls.RESOURCE_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS + '\"></div></div>';\n                    }\n                    break;\n            }\n            var templateWrapper = createElement('div', { innerHTML: content });\n            if (data[this.parent.eventFields.location]) {\n                var locationDetails = templateWrapper.querySelector('.' + cls.LOCATION_DETAILS_CLASS);\n                if (!isNullOrUndefined(locationDetails)) {\n                    this.parent.sanitize(data[this.parent.eventFields.location], locationDetails);\n                }\n            }\n            if (data[this.parent.eventFields.description]) {\n                var descriptionDetails = templateWrapper.querySelector('.' + cls.DESCRIPTION_DETAILS_CLASS);\n                if (!isNullOrUndefined(descriptionDetails)) {\n                    this.parent.sanitize(data[this.parent.eventFields.description], descriptionDetails);\n                }\n            }\n            if (resourceText) {\n                var resourceDetails = templateWrapper.querySelector('.' + cls.RESOURCE_DETAILS_CLASS);\n                if (!isNullOrUndefined(resourceDetails)) {\n                    this.parent.sanitize(resourceText, resourceDetails);\n                }\n            }\n            append([].slice.call(templateWrapper.childNodes), contentTemplate);\n        }\n        return contentTemplate;\n    };\n    QuickPopups.prototype.getPopupFooter = function (footerType, footerData) {\n        var footerTemplate = createElement('div', { className: cls.POPUP_FOOTER_CLASS });\n        if (this.isQuickTemplate(footerType) && this.parent.quickInfoTemplates.footer) {\n            var footerArgs = extend({}, footerData, { elementType: footerType.toLowerCase() }, true);\n            var templateId = this.parent.element.id;\n            var footerTemp = [].slice.call(this.parent.getQuickInfoTemplatesFooter()(footerArgs, this.parent, 'footer', templateId + '_footerTemplate', false));\n            append([].slice.call(footerTemp), footerTemplate);\n        }\n        else {\n            var footer = void 0;\n            switch (footerType) {\n                case 'Cell':\n                    footer = \"<button class=\\\"\" + (cls.QUICK_POPUP_EVENT_DETAILS_CLASS + ' ' + cls.TEXT_ELLIPSIS) + \"\\\" title=\" +\n                        (\"\\\"\" + this.l10n.getConstant('moreDetails') + \"\\\">\" + this.l10n.getConstant('moreDetails') + \"</button>\") +\n                        (\"<button class=\\\"\" + cls.EVENT_CREATE_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('save') + \"\\\">\") +\n                        (this.l10n.getConstant('save') + \"</button>\");\n                    break;\n                case 'Event':\n                    footer = \"\" + (this.parent.isAdaptive ? '' : \"<button class=\\\"\" + cls.EDIT_EVENT_CLASS + \" \" +\n                        (cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('edit') + \"\\\">\" + this.l10n.getConstant('edit') + \"</button>\") +\n                        (\"<button class=\\\"\" + cls.DELETE_EVENT_CLASS + \" \" + cls.TEXT_ELLIPSIS + \"\\\" title=\\\"\" + this.l10n.getConstant('delete') + \"\\\">\") +\n                        (this.l10n.getConstant('delete') + \"</button>\"));\n                    break;\n            }\n            var templateWrapper = createElement('div', { innerHTML: footer });\n            append([].slice.call(templateWrapper.childNodes), footerTemplate);\n        }\n        return footerTemplate;\n    };\n    QuickPopups.prototype.getResourceText = function (args, type) {\n        if (this.parent.resourceCollection.length === 0) {\n            return null;\n        }\n        var resourceValue = '';\n        if (this.parent.activeViewOptions.group.resources.length === 0) {\n            var resourceCollection_1 = this.parent.resourceBase.resourceCollection.slice(-1)[0];\n            var resourceData = resourceCollection_1.dataSource;\n            if (type === 'event') {\n                var eventData = args.event;\n                var _loop_2 = function (data) {\n                    var resourceId = eventData[resourceCollection_1.field];\n                    if (resourceId instanceof Array) {\n                        if (resourceId.indexOf(data[resourceCollection_1.idField]) > -1) {\n                            var id_1 = resourceId[resourceId.indexOf(data[resourceCollection_1.idField])];\n                            var resource = resourceData.filter(function (e) {\n                                return e[resourceCollection_1.idField] === id_1;\n                            })[0];\n                            resourceValue += (resourceValue === '') ? resource[resourceCollection_1.textField] :\n                                ', ' + resource[resourceCollection_1.textField];\n                        }\n                    }\n                    else if (data[resourceCollection_1.idField] === resourceId) {\n                        resourceValue = data[resourceCollection_1.textField].toString();\n                    }\n                };\n                for (var _i = 0, resourceData_1 = resourceData; _i < resourceData_1.length; _i++) {\n                    var data = resourceData_1[_i];\n                    _loop_2(data);\n                }\n            }\n            else {\n                resourceValue = resourceData[0][resourceCollection_1.textField].toString();\n            }\n        }\n        else {\n            if (type === 'event') {\n                var eventData = args.event;\n                var resourceData = void 0;\n                var lastResource_1;\n                for (var i = this.parent.resourceBase.resourceCollection.length - 1; i >= 0; i--) {\n                    resourceData = eventData[this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)].field];\n                    if (!isNullOrUndefined(resourceData)) {\n                        lastResource_1 = this.parent.resourceBase.resourceCollection[parseInt(i.toString(), 10)];\n                        break;\n                    }\n                }\n                if (!Array.isArray(resourceData)) {\n                    resourceData = [resourceData];\n                }\n                var resNames_1 = [];\n                var lastResourceData_1 = lastResource_1.dataSource;\n                resourceData.forEach(function (value) {\n                    var text;\n                    var i = util.findIndexInData(lastResourceData_1, lastResource_1.idField, value);\n                    if (i > -1) {\n                        text = lastResourceData_1[parseInt(i.toString(), 10)][lastResource_1.textField];\n                    }\n                    if (text) {\n                        resNames_1.push(text);\n                    }\n                });\n                resourceValue = resNames_1.join(', ');\n            }\n            else {\n                var argsData = args;\n                var groupIndex = !isNullOrUndefined(argsData.groupIndex) ? argsData.groupIndex : 0;\n                var resourceDetails = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex.toString(), 10)];\n                resourceValue = resourceDetails.resourceData[resourceDetails.resource.textField];\n            }\n        }\n        return resourceValue;\n    };\n    QuickPopups.prototype.getFormattedString = function (eventData) {\n        var fields = this.parent.eventFields;\n        var eventSubject = (eventData[fields.subject] || this.l10n.getConstant('noTitle'));\n        var startDate = eventData[fields.startTime];\n        var endDate = eventData[fields.endTime];\n        var startDateDetails = this.getDateFormat(startDate, 'long');\n        var endDateDetails = (eventData[fields.isAllDay] && endDate.getHours() === 0 && endDate.getMinutes() === 0) ?\n            this.getDateFormat(util.addDays(new Date(endDate.getTime()), -1), 'long') :\n            this.getDateFormat(endDate, 'long');\n        var startTimeDetail = this.parent.getTimeString(startDate);\n        var endTimeDetail = this.parent.getTimeString(endDate);\n        var details = '';\n        var spanLength = endDate.getDate() !== startDate.getDate() &&\n            (endDate.getTime() - startDate.getTime()) / (60 * 60 * 1000) < 24 ? 1 : 0;\n        if (eventData[fields.isAllDay]) {\n            details = startDateDetails + ' (' + this.l10n.getConstant('allDay') + ')';\n            if (((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) / util.MS_PER_DAY) > 1) {\n                details += '&nbsp;-&nbsp;' + endDateDetails + ' (' + this.l10n.getConstant('allDay') + ')';\n            }\n        }\n        else if ((((util.getUniversalTime(endDate) - util.getUniversalTime(startDate)) / util.MS_PER_DAY) >= 1) || spanLength > 0) {\n            details = startDateDetails + ' (' + startTimeDetail + ')' + '&nbsp;-&nbsp;' + endDateDetails + ' (' + endTimeDetail + ')';\n        }\n        else {\n            details = startDateDetails + ' (' + (startTimeDetail + '&nbsp;-&nbsp;' + endTimeDetail) + ')';\n        }\n        return { eventSubject: eventSubject, details: details };\n    };\n    QuickPopups.prototype.moreEventClick = function (data, endDate, groupIndex) {\n        var _this = this;\n        this.quickPopupHide(true);\n        var moreEventContentEle = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CONTENT_CLASS);\n        if (moreEventContentEle) {\n            remove(moreEventContentEle);\n        }\n        var selectedDate = ((data.date).getTime()).toString();\n        var target = closest(data.element, '.' + cls.MORE_INDICATOR_CLASS + ',.' + cls.WORK_CELLS_CLASS);\n        var day = this.parent.globalize.formatDate(data.date, { format: 'E', calendar: this.parent.getCalendarMode() });\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DAY_CLASS).innerHTML = util.capitalizeFirstWord(day, 'single');\n        var dateElement = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS);\n        dateElement.innerHTML = this.getDateFormat(data.date, 'd');\n        dateElement.setAttribute('data-date', selectedDate);\n        dateElement.setAttribute('data-end-date', endDate.getTime().toString());\n        var groupOrder;\n        if (!isNullOrUndefined(groupIndex)) {\n            dateElement.setAttribute('data-group-index', groupIndex);\n            groupOrder = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)].groupOrder;\n        }\n        var moreEventElements = this.createMoreEventList(data.event, groupOrder, groupIndex);\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_POPUP_CLASS).appendChild(moreEventElements);\n        removeClass(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_DATE_HEADER_CLASS).childNodes, cls.CURRENTDATE_CLASS);\n        if (util.resetTime(data.date).getTime() === util.resetTime(this.parent.getCurrentTime()).getTime()) {\n            addClass(this.morePopup.element.querySelector('.' + cls.MORE_EVENT_DATE_HEADER_CLASS).childNodes, cls.CURRENTDATE_CLASS);\n        }\n        if (!this.parent.isAdaptive) {\n            if (this.parent.currentView.indexOf('Timeline') !== -1) {\n                var gIndex = target.getAttribute('data-group-index');\n                var startDate = new Date(parseInt(target.getAttribute('data-start-date'), 10));\n                startDate.setHours(startDate.getHours(), startDate.getMinutes(), 0);\n                var tdDate = startDate.getTime().toString();\n                if (isNullOrUndefined(gIndex)) {\n                    this.morePopup.relateTo = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS +\n                        ' tbody tr td[data-date=\"' + tdDate + '\"]');\n                }\n                else {\n                    this.morePopup.relateTo = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS +\n                        ' tbody tr td[data-group-index=\"' + gIndex + '\"][data-date=\"' + tdDate + '\"]');\n                    if (isNullOrUndefined(this.morePopup.relateTo)) {\n                        var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS +\n                            ' tbody tr td[data-group-index=\"' + gIndex + '\"]'));\n                        for (var i = 0; i < workCells.length; i++) {\n                            var date = workCells[parseInt(i.toString(), 10)].getAttribute('data-date');\n                            if (date < tdDate) {\n                                this.morePopup.relateTo = workCells[parseInt(i.toString(), 10)];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                this.morePopup.relateTo = closest(target, '.' + cls.WORK_CELLS_CLASS);\n            }\n        }\n        this.parent.renderTemplates(function () {\n            var eventProp = {\n                type: 'EventContainer', cancel: false,\n                element: _this.morePopup.element, data: data\n            };\n            _this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n                if (!popupArgs.cancel) {\n                    _this.morePopup.show();\n                }\n            });\n        });\n    };\n    QuickPopups.prototype.saveClick = function (event) {\n        this.applyFormValidation();\n        this.dialogEvent = event;\n        this.isCrudAction = true;\n        this.quickPopupHide();\n    };\n    QuickPopups.prototype.detailsClick = function (event) {\n        var subjectEle = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n        if (subjectEle && subjectEle.value !== '') {\n            extend(this.parent.activeCellsData, { subject: subjectEle.value });\n        }\n        this.dialogEvent = event;\n        this.isCrudAction = false;\n        this.fieldValidator.destroyToolTip();\n        this.quickPopupHide();\n        this.parent.eventWindow.openEditor(this.parent.activeCellsData, 'Add');\n    };\n    QuickPopups.prototype.editClick = function (event) {\n        this.dialogEvent = event;\n        this.quickPopupHide(true);\n        var data = this.parent.activeEventData.event;\n        this.parent.currentAction = 'EditSeries';\n        if (!isNullOrUndefined(data[this.parent.eventFields.recurrenceRule])) {\n            this.parent.currentAction = 'EditOccurrence';\n            this.openRecurrenceAlert();\n        }\n        else {\n            this.parent.eventWindow.openEditor(data, this.parent.currentAction);\n        }\n    };\n    QuickPopups.prototype.deleteClick = function (event) {\n        this.dialogEvent = event;\n        this.quickPopupHide(true);\n        this.parent.currentAction = 'Delete';\n        if (this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]) {\n            this.openRecurrenceAlert();\n        }\n        else {\n            this.openDeleteAlert();\n        }\n    };\n    QuickPopups.prototype.updateMoreEventContent = function () {\n        if (this.morePopup.element.classList.contains('e-popup-close')) {\n            return;\n        }\n        var moreEventContentEle = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_CONTENT_CLASS);\n        if (moreEventContentEle) {\n            remove(moreEventContentEle);\n        }\n        var dateElement = this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS);\n        var startDate = new Date(parseInt(dateElement.getAttribute('data-date'), 10));\n        var endDate = new Date(parseInt(dateElement.getAttribute('data-end-date'), 10));\n        var groupIndex = dateElement.getAttribute('data-group-index');\n        var data;\n        var groupOrder;\n        if (!isNullOrUndefined(groupIndex)) {\n            data = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)];\n            groupOrder = data.groupOrder;\n        }\n        var events = this.parent.eventBase.filterEvents(startDate, endDate, this.parent.eventsProcessed, data);\n        var moreElement = this.createMoreEventList(events, groupOrder, groupIndex);\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_POPUP_CLASS).appendChild(moreElement);\n    };\n    QuickPopups.prototype.closeClick = function (event) {\n        this.dialogEvent = event;\n        if (this.parent.currentView === 'Year' && this.parent.activeCellsData && this.parent.activeCellsData.element) {\n            this.parent.selectCell(this.parent.activeCellsData.element);\n        }\n        this.quickPopupHide();\n        this.morePopup.hide();\n    };\n    QuickPopups.prototype.dialogButtonClick = function (event) {\n        this.dialogEvent = event;\n        this.quickDialog.hide();\n        var target = event.target;\n        var cancelBtn = this.quickDialog.element.querySelector('.' + cls.QUICK_DIALOG_ALERT_CANCEL);\n        var eventData = this.parent.activeEventData.event;\n        if (target.classList.contains(cls.QUICK_DIALOG_OCCURRENCE_CLASS)) {\n            this.parent.currentAction = (this.parent.currentAction === 'Delete') ? 'DeleteOccurrence' : 'EditOccurrence';\n            switch (this.parent.currentAction) {\n                case 'EditOccurrence':\n                    this.parent.eventWindow.openEditor(eventData, this.parent.currentAction);\n                    break;\n                case 'DeleteOccurrence':\n                    this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n                    break;\n            }\n        }\n        else if (target.classList.contains(cls.QUICK_DIALOG_FOLLOWING_EVENTS_CLASS)) {\n            this.parent.currentAction = (this.parent.currentAction === 'Delete') ? 'DeleteFollowingEvents' : 'EditFollowingEvents';\n            switch (this.parent.currentAction) {\n                case 'EditFollowingEvents':\n                    this.parent.eventWindow.openEditor(eventData, this.parent.currentAction);\n                    break;\n                case 'DeleteFollowingEvents':\n                    this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n                    break;\n            }\n        }\n        else if (target.classList.contains(cls.QUICK_DIALOG_SERIES_CLASS)) {\n            this.parent.currentAction = (this.parent.currentAction === 'Delete') ? 'DeleteSeries' : 'EditSeries';\n            switch (this.parent.currentAction) {\n                case 'EditSeries':\n                    this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(eventData, true), this.parent.currentAction);\n                    break;\n                case 'DeleteSeries':\n                    this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n                    break;\n            }\n        }\n        else if (target.classList.contains(cls.QUICK_DIALOG_DELETE_CLASS)) {\n            this.parent.crudModule.deleteEvent(eventData, this.parent.currentAction);\n        }\n        else if (!cancelBtn.classList.contains(cls.DISABLE_CLASS) && (target.classList.contains(cls.QUICK_DIALOG_ALERT_OK) ||\n            (target.classList.contains(cls.QUICK_DIALOG_ALERT_CANCEL) && !cancelBtn.classList.contains(cls.QUICK_DIALOG_CANCEL_CLASS)))) {\n            this.parent.uiStateValues.isIgnoreOccurrence = target.classList.contains(cls.QUICK_DIALOG_ALERT_CANCEL);\n            this.parent.eventWindow.eventSave(event, this.l10n.getConstant('ok'));\n        }\n    };\n    QuickPopups.prototype.updateTapHoldEventPopup = function (target) {\n        var selectedElements = this.parent.eventBase.getSelectedEventElements(target);\n        this.parent.activeEventData = this.parent.eventBase.getSelectedEvents();\n        if (selectedElements.length > 0) {\n            var eventObj = this.parent.eventBase.getEventByGuid(selectedElements[0].getAttribute('data-guid'));\n            var titleContent = (selectedElements.length === 1) ?\n                (eventObj[this.parent.eventFields.subject] || this.l10n.getConstant('noTitle')) :\n                '(' + selectedElements.length + ')' + '&nbsp;' + this.l10n.getConstant('selectedItems');\n            this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS).innerHTML = titleContent;\n            if (selectedElements.length > 1) {\n                addClass([this.quickPopup.element.querySelector('.' + cls.EDIT_ICON_CLASS)], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([this.quickPopup.element.querySelector('.' + cls.EDIT_ICON_CLASS)], cls.HIDDEN_CLASS);\n            }\n        }\n        else {\n            this.parent.selectedElements = [];\n            this.quickPopupHide();\n        }\n    };\n    QuickPopups.prototype.getTimezone = function (event) {\n        var zoneDetails = '';\n        zoneDetails += event[this.parent.eventFields.startTimezone] || '';\n        zoneDetails += zoneDetails === '' ? '' : ' - ';\n        zoneDetails += event[this.parent.eventFields.endTimezone] || '';\n        return zoneDetails;\n    };\n    QuickPopups.prototype.getRecurrenceSummary = function (event) {\n        var recurrenceEditor = this.parent.eventWindow.getRecurrenceEditorInstance();\n        if (recurrenceEditor) {\n            var ruleSummary = recurrenceEditor.getRuleSummary(event[this.parent.eventFields.recurrenceRule]);\n            return ruleSummary.charAt(0).toUpperCase() + ruleSummary.slice(1);\n        }\n        return '';\n    };\n    QuickPopups.prototype.getDateFormat = function (date, skeletonString) {\n        return util.capitalizeFirstWord(this.parent.globalize.formatDate(date, { skeleton: skeletonString, calendar: this.parent.getCalendarMode() }), 'single');\n    };\n    QuickPopups.prototype.getDataFromTarget = function (target) {\n        if (target.classList.contains(cls.APPOINTMENT_CLASS)) {\n            return this.parent.activeEventData.event;\n        }\n        // Deprecated cells data in quick popups\n        var eventObj = {\n            startTime: this.parent.activeCellsData.startTime,\n            endTime: this.parent.activeCellsData.endTime,\n            isAllDay: this.parent.activeCellsData.isAllDay,\n            groupIndex: this.parent.activeCellsData.groupIndex\n        };\n        var cellsData = this.parent.activeCellsData;\n        this.parent.eventWindow.convertToEventData(cellsData, eventObj);\n        return eventObj;\n    };\n    QuickPopups.prototype.beforeQuickDialogClose = function (e) {\n        var _this = this;\n        var args = {\n            event: e.event || this.dialogEvent,\n            type: (isNullOrUndefined(this.parent.activeEventData.event)) ? 'ValidationAlert' :\n                !isNullOrUndefined(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])\n                    ? 'RecurrenceAlert' : 'DeleteAlert', cancel: false, data: this.parent.activeEventData.event,\n            element: this.quickDialog.element\n        };\n        this.parent.trigger(event.popupClose, args, function (popupCloseArgs) {\n            if (!popupCloseArgs.cancel) {\n                _this.parent.eventBase.focusElement(true);\n            }\n        });\n    };\n    QuickPopups.prototype.beforeQuickPopupOpen = function (target, originalEvent) {\n        var _this = this;\n        this.parent.renderTemplates(function () {\n            var isEventPopup = _this.quickPopup.element.querySelector('.' + cls.EVENT_POPUP_CLASS);\n            var popupType = _this.parent.isAdaptive ? isEventPopup ? 'ViewEventInfo' : 'EditEventInfo' : 'QuickInfo';\n            var eventProp = {\n                type: popupType, cancel: false, data: extend({}, _this.getDataFromTarget(target), null, true),\n                target: target, element: _this.quickPopup.element\n            };\n            _this.parent.trigger(event.popupOpen, eventProp, function (popupArgs) {\n                if (popupArgs.cancel) {\n                    _this.quickPopupHide();\n                    _this.destroyPopupButtons('quickPopup');\n                    if (popupArgs.element.classList.contains(cls.POPUP_OPEN)) {\n                        _this.quickPopupClose();\n                    }\n                    util.removeChildren(_this.quickPopup.element);\n                    _this.isMultipleEventSelect = false;\n                }\n                else {\n                    var display = _this.quickPopup.element.style.display;\n                    _this.quickPopup.element.style.display = 'block';\n                    if (_this.parent.isAdaptive) {\n                        _this.quickPopup.element.removeAttribute('style');\n                        _this.quickPopup.element.style.display = 'block';\n                        _this.quickPopup.element.style.height = formatUnit((popupType === 'EditEventInfo') ? 65 : window.innerHeight);\n                    }\n                    else {\n                        var isVirtualScroll = _this.parent.virtualScrollModule && _this.parent.virtualScrollModule.isHorizontalScroll\n                            && !isNullOrUndefined(closest(target, '.' + cls.CONTENT_TABLE_CLASS));\n                        var conTable = _this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS + ' table');\n                        _this.quickPopup.offsetX = isVirtualScroll && !_this.parent.enableRtl ? (util.getTranslateX(conTable) + 10) : 10;\n                        _this.quickPopup.offsetY = _this.parent.virtualScrollModule && !_this.parent.virtualScrollModule.isHorizontalScroll ?\n                            _this.quickPopup.offsetY : 0;\n                        _this.quickPopup.collision = { X: _this.parent.enableRtl ? 'flip' : 'none', Y: 'fit' };\n                        _this.quickPopup.position = { X: _this.parent.enableRtl ? 'left' : 'right', Y: _this.parent.enableRtl ? 'bottom' : 'top' };\n                        _this.quickPopup.dataBind();\n                        _this.quickPopup.refreshPosition(null, true);\n                        var collide = isCollide(_this.quickPopup.element, _this.parent.element);\n                        if (collide.indexOf(_this.parent.enableRtl ? 'left' : 'right') > -1) {\n                            _this.quickPopup.offsetX = -target.offsetWidth - 10 - _this.quickPopup.element.offsetWidth;\n                            if (isVirtualScroll && !_this.parent.enableRtl) {\n                                _this.quickPopup.offsetX = util.getTranslateX(conTable) + _this.quickPopup.offsetX;\n                            }\n                            _this.quickPopup.dataBind();\n                            _this.quickPopup.refreshPosition(null, true);\n                            var leftCollide = isCollide(_this.quickPopup.element, _this.parent.element);\n                            if (leftCollide.indexOf('left') > -1) {\n                                _this.quickPopup.position = { X: 'center', Y: 'center' };\n                                _this.quickPopup.collision = { X: 'fit', Y: 'fit' };\n                                _this.quickPopup.offsetX = -(_this.quickPopup.element.offsetWidth / 2);\n                                _this.quickPopup.dataBind();\n                            }\n                        }\n                        if (_this.parent.virtualScrollModule && !_this.parent.virtualScrollModule.isHorizontalScroll && (collide.indexOf('top') > -1 || collide.indexOf('bottom') > -1)) {\n                            var translateY = util.getTranslateY(conTable);\n                            _this.quickPopup.offsetY = translateY;\n                            _this.quickPopup.dataBind();\n                            _this.quickPopup.refreshPosition(null, true);\n                        }\n                        if (_this.quickPopup.position.X === 'center' && _this.quickPopup.position.Y === 'center' && !isNullOrUndefined(originalEvent) &&\n                            originalEvent.clientX && originalEvent.clientY) {\n                            var clientX = originalEvent.clientX;\n                            var clientY = originalEvent.clientY;\n                            var targetRect = target.getBoundingClientRect();\n                            var offsetY = originalEvent.offsetY || Math.ceil(clientY - targetRect.y);\n                            var previousOffset = _this.quickPopup.offsetY;\n                            var collision = isCollide(_this.quickPopup.element, target);\n                            var popupRect = _this.quickPopup.element.getBoundingClientRect();\n                            var targetEle = document.elementFromPoint(clientX, clientY);\n                            if (collision.indexOf('top') > -1 || collision.indexOf('bottom') > -1 || closest(targetEle, '.' + cls.POPUP_WRAPPER_CLASS)) {\n                                if (popupRect.top <= clientY &&\n                                    clientY <= popupRect.top + popupRect.height) {\n                                    _this.quickPopup.offsetY = previousOffset - popupRect.height - 10;\n                                    _this.quickPopup.dataBind();\n                                    collision = isCollide(_this.quickPopup.element, _this.parent.element);\n                                    if (collision.indexOf('top') > -1) {\n                                        _this.quickPopup.offsetY = previousOffset + offsetY + 10;\n                                        _this.quickPopup.dataBind();\n                                    }\n                                }\n                                else if (isCollide(_this.quickPopup.element, _this.parent.element).indexOf('bottom') > -1) {\n                                    _this.quickPopup.offsetY =\n                                        previousOffset - offsetY - Math.ceil(popupRect.height) - 10;\n                                    _this.quickPopup.dataBind();\n                                }\n                            }\n                        }\n                    }\n                    if (isEventPopup) {\n                        _this.applyEventColor();\n                    }\n                    _this.quickPopup.element.style.display = display;\n                    _this.quickPopup.dataBind();\n                    _this.quickPopup.show();\n                }\n            });\n        });\n    };\n    QuickPopups.prototype.applyEventColor = function () {\n        var colorField = '';\n        if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda') {\n            colorField = this.parent.enableRtl ? 'border-right-color' : 'border-left-color';\n        }\n        else {\n            colorField = 'background-color';\n        }\n        var color = this.parent.activeEventData.element.style[colorField];\n        if (color === '') {\n            return;\n        }\n        var colorEle = this.quickPopup.element.querySelector('.' + cls.POPUP_HEADER_CLASS);\n        var footerEle = this.quickPopup.element.querySelector('.' + cls.POPUP_FOOTER_CLASS);\n        if (footerEle && footerEle.offsetParent) {\n            colorEle = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (colorEle) {\n                colorEle.style.borderLeftColor = color;\n                color = \"rgba(\" + color.match(/\\d+/g).join() + \",0.3)\";\n            }\n        }\n        if (colorEle) {\n            colorEle.style.backgroundColor = color;\n        }\n    };\n    QuickPopups.prototype.quickPopupOpen = function () {\n        if (this.parent.isAdaptive) {\n            this.quickPopup.element.style.top = '0px';\n            return;\n        }\n        if (this.quickPopup.element.querySelector('.' + cls.CELL_POPUP_CLASS)) {\n            var subjectElement = this.quickPopup.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (subjectElement) {\n                subjectElement.focus();\n            }\n        }\n        else {\n            var editElement = this.quickPopup.element.querySelector('.' + cls.EDIT_EVENT_CLASS);\n            if (editElement) {\n                editElement.focus();\n            }\n            var editIcon = this.quickPopup.element.querySelector('.' + cls.EDIT_CLASS);\n            if (editIcon) {\n                editIcon.focus();\n            }\n        }\n    };\n    QuickPopups.prototype.quickPopupClose = function () {\n        this.parent.eventBase.focusElement();\n        this.quickPopup.relateTo = '.' + cls.WORK_CELLS_CLASS;\n        this.fieldValidator.destroyToolTip();\n        if (this.quickPopup.element.querySelectorAll('.e-formvalidator').length) {\n            this.fieldValidator.destroy();\n        }\n        this.destroyPopupButtons('quickPopup');\n        util.removeChildren(this.quickPopup.element);\n    };\n    QuickPopups.prototype.morePopupOpen = function () {\n        if (this.parent.isAdaptive) {\n            this.morePopup.element.style.top = '0px';\n            this.morePopup.element.style.left = '0px';\n            this.morePopup.element.style.height = formatUnit(window.innerHeight);\n            return;\n        }\n        this.morePopup.element.querySelector('.' + cls.MORE_EVENT_HEADER_DATE_CLASS).focus();\n        this.morePopup.refreshPosition();\n    };\n    QuickPopups.prototype.morePopupClose = function () {\n        var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_EVENT_WRAPPER_CLASS);\n        if (moreWrapper) {\n            remove(moreWrapper);\n        }\n    };\n    QuickPopups.prototype.popupClose = function (event) {\n        this.dialogEvent = event;\n        this.isCrudAction = false;\n        this.quickPopupHide(true);\n    };\n    QuickPopups.prototype.quickPopupHide = function (hideAnimation) {\n        var _this = this;\n        if (!this.quickPopup.element.classList.contains(cls.POPUP_OPEN)) {\n            return;\n        }\n        var isCellPopup = this.quickPopup.element.querySelector('.' + cls.CELL_POPUP_CLASS);\n        var popupData;\n        if (isCellPopup) {\n            var formvalidator = this.quickPopup.element.querySelector('.e-formvalidator');\n            if (this.isCrudAction && formvalidator &&\n                !formvalidator.ej2_instances[0].validate()) {\n                return;\n            }\n            var fields = this.parent.eventFields;\n            var saveObj = this.parent.eventWindow.getObjectFromFormData(cls.POPUP_WRAPPER_CLASS);\n            this.parent.eventWindow.setDefaultValueToObject(saveObj);\n            saveObj[fields.id] = this.parent.eventBase.getEventMaxID();\n            saveObj[fields.startTime] = this.parent.activeCellsData.startTime;\n            saveObj[fields.endTime] = this.parent.activeCellsData.endTime;\n            saveObj[fields.isAllDay] = this.parent.activeCellsData.isAllDay;\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.setResourceValues(saveObj);\n            }\n            popupData = saveObj;\n        }\n        else {\n            popupData = this.parent.activeEventData.event;\n        }\n        var isEventPopup = this.quickPopup.element.querySelector('.' + cls.EVENT_POPUP_CLASS);\n        var args = {\n            event: this.dialogEvent,\n            type: this.parent.isAdaptive ? isEventPopup ? 'ViewEventInfo' : 'EditEventInfo' : 'QuickInfo',\n            cancel: false, data: popupData, element: this.quickPopup.element,\n            target: (isCellPopup ? this.parent.activeCellsData.element : this.parent.activeEventData.element)\n        };\n        this.parent.trigger(event.popupClose, args, function (popupCloseArgs) {\n            if (!popupCloseArgs.cancel) {\n                if (_this.quickPopup.element.classList.contains('e-popup-open')) {\n                    if (isCellPopup && _this.isCrudAction) {\n                        _this.parent.currentAction = 'Add';\n                        _this.parent.crudModule.addEvent(popupCloseArgs.data);\n                    }\n                    if (hideAnimation) {\n                        var animation = _this.quickPopup.hideAnimation;\n                        _this.quickPopup.hideAnimation = null;\n                        _this.quickPopup.hide();\n                        _this.quickPopup.hideAnimation = animation;\n                    }\n                    else {\n                        _this.quickPopup.hide();\n                    }\n                    _this.isMultipleEventSelect = false;\n                    _this.isCrudAction = false;\n                }\n            }\n        });\n    };\n    QuickPopups.prototype.navigationClick = function (e) {\n        var navigateEle = closest(e.target, '.' + cls.NAVIGATE_CLASS);\n        if (!isNullOrUndefined(navigateEle)) {\n            var date = this.parent.getDateFromElement(e.currentTarget);\n            if (!isNullOrUndefined(date)) {\n                this.closeClick(e);\n                this.parent.setProperties({ selectedDate: date }, true);\n                this.parent.changeView(this.parent.getNavigateView(), e);\n            }\n        }\n    };\n    QuickPopups.prototype.documentClick = function (e) {\n        var target = e.event.target;\n        var classNames = '.' + cls.POPUP_WRAPPER_CLASS + ',.' + cls.HEADER_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS +\n            ',.' + cls.WORK_CELLS_CLASS + ',.' + cls.APPOINTMENT_CLASS + ',.e-popup';\n        var popupWrap = this.parent.element.querySelector('.' + cls.POPUP_WRAPPER_CLASS);\n        if ((popupWrap && popupWrap.childElementCount > 0 && !closest(target, classNames)) || !closest(target, classNames)) {\n            this.quickPopupHide();\n            this.parent.removeNewEventElement();\n        }\n        var tar = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (tar && tar !== target && this.parent.allowInline) {\n            this.parent.inlineModule.documentClick();\n        }\n        if (closest(target, '.' + cls.APPOINTMENT_CLASS + ',.' + cls.HEADER_CELLS_CLASS)) {\n            this.parent.removeNewEventElement();\n        }\n        if (!closest(target, '.' + cls.MORE_POPUP_WRAPPER_CLASS) && (target.classList &&\n            !target.classList.contains(cls.MORE_INDICATOR_CLASS))\n            && (!closest(target, '.' + cls.POPUP_OPEN)) && !closest(target, '.' + cls.WORK_CELLS_CLASS)) {\n            this.morePopup.hide();\n        }\n    };\n    QuickPopups.prototype.onClosePopup = function (event) {\n        if (!isNullOrUndefined(event)) {\n            this.dialogEvent = event;\n        }\n        this.quickPopupHide();\n        this.parent.eventBase.focusElement();\n    };\n    QuickPopups.prototype.addEventListener = function () {\n        this.parent.on(event.cellClick, this.cellClick, this);\n        this.parent.on(event.eventClick, this.eventClick, this);\n        this.parent.on(event.documentClick, this.documentClick, this);\n        this.parent.on(event.dataReady, this.updateMoreEventContent, this);\n    };\n    QuickPopups.prototype.removeEventListener = function () {\n        this.parent.off(event.cellClick, this.cellClick);\n        this.parent.off(event.eventClick, this.eventClick);\n        this.parent.off(event.documentClick, this.documentClick);\n        this.parent.off(event.dataReady, this.updateMoreEventContent);\n    };\n    QuickPopups.prototype.destroyPopupButtons = function (popupName) {\n        var popup = popupName === 'quickPopup' ? this.quickPopup : this.morePopup;\n        var buttonCollections = [].slice.call(popup.element.querySelectorAll('.e-control.e-btn'));\n        for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n            var button = buttonCollections_1[_i];\n            var instance = button.ej2_instances[0];\n            if (instance) {\n                instance.destroy();\n            }\n        }\n    };\n    QuickPopups.prototype.refreshQuickDialog = function () {\n        this.destroyQuickDialog();\n        this.renderQuickDialog();\n    };\n    QuickPopups.prototype.refreshQuickPopup = function () {\n        this.destroyQuickPopup();\n        this.renderQuickPopup();\n    };\n    QuickPopups.prototype.refreshMorePopup = function () {\n        this.destroyMorePopup();\n        this.renderMorePopup();\n    };\n    QuickPopups.prototype.destroyQuickDialog = function () {\n        if (this.quickDialog.element) {\n            this.quickDialog.destroy();\n            remove(this.quickDialog.element);\n            this.quickDialog = null;\n        }\n    };\n    QuickPopups.prototype.destroyQuickPopup = function () {\n        if (this.quickPopup.element) {\n            this.destroyPopupButtons('quickPopup');\n            this.quickPopup.destroy();\n            remove(this.quickPopup.element);\n            this.quickPopup = null;\n        }\n    };\n    QuickPopups.prototype.destroyMorePopup = function () {\n        if (this.morePopup.element) {\n            this.destroyPopupButtons('morePopup');\n            this.morePopup.destroy();\n            remove(this.morePopup.element);\n            this.morePopup = null;\n        }\n    };\n    QuickPopups.prototype.destroy = function () {\n        if (this.quickPopup.element.querySelectorAll('.e-formvalidator').length) {\n            this.fieldValidator.destroy();\n        }\n        this.removeEventListener();\n        this.destroyQuickPopup();\n        this.destroyMorePopup();\n        this.destroyQuickDialog();\n        this.dialogEvent = null;\n        this.parent = null;\n        this.l10n = null;\n        this.isCrudAction = null;\n        this.fieldValidator = null;\n        this.isMultipleEventSelect = null;\n    };\n    return QuickPopups;\n}());\nexport { QuickPopups };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}