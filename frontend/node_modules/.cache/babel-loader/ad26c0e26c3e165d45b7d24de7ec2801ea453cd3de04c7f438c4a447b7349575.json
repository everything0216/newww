{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\nvar HeaderRenderer = /** @class */function () {\n  function HeaderRenderer(parent) {\n    this.parent = parent;\n    this.l10n = this.parent.localeObj;\n    this.renderHeader();\n    this.addEventListener();\n  }\n  HeaderRenderer.prototype.addEventListener = function () {\n    this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n  };\n  HeaderRenderer.prototype.removeEventListener = function () {\n    this.parent.off(events.documentClick, this.closeHeaderPopup);\n  };\n  HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n    var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n    var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n    var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (this.parent.isAdaptive) {\n      if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') || closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') && this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n        addClass([contentWrap], cls.SCROLL_HIDDEN);\n      } else {\n        removeClass([contentWrap], cls.SCROLL_HIDDEN);\n        var popupEle = this.element.querySelector('.e-toolbar-pop');\n        if (!isNullOrUndefined(popupEle)) {\n          var popupObj = popupEle.ej2_instances[0];\n          if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') && popupEle.classList.contains(cls.POPUP_OPEN))) {\n            popupObj.hide();\n          }\n        }\n      }\n    }\n    if (!isNullOrUndefined(closestEle)) {\n      return;\n    }\n    this.hideHeaderPopup();\n  };\n  HeaderRenderer.prototype.hideHeaderPopup = function () {\n    if (this.headerPopup) {\n      this.headerPopup.hide();\n    }\n  };\n  HeaderRenderer.prototype.renderHeader = function () {\n    this.element = createElement('div', {\n      className: cls.TOOLBAR_CONTAINER\n    });\n    var toolbarEle = createElement('div', {\n      className: cls.HEADER_TOOLBAR\n    });\n    this.element.appendChild(toolbarEle);\n    this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n    this.renderToolbar();\n  };\n  HeaderRenderer.prototype.renderToolbar = function () {\n    var _this = this;\n    var items = this.getItems();\n    this.parent.trigger(events.actionBegin, {\n      requestType: 'toolbarItemRendering',\n      items: items\n    }, function (args) {\n      _this.toolbarObj = new Toolbar({\n        items: args.items,\n        overflowMode: 'Popup',\n        clicked: _this.toolbarClickHandler.bind(_this),\n        enableRtl: _this.parent.enableRtl,\n        enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n        locale: _this.parent.locale\n      });\n      _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n      var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n      if (prevNavEle) {\n        prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n      }\n      var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n      if (nextNavEle) {\n        nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n      }\n      _this.updateAddIcon();\n      _this.updateActiveView();\n      _this.parent.trigger(events.actionComplete, {\n        requestType: 'toolBarItemRendered',\n        items: _this.toolbarObj.items\n      });\n    });\n  };\n  HeaderRenderer.prototype.updateItems = function () {\n    var _this = this;\n    if (this.toolbarObj) {\n      var items = this.getItems();\n      this.parent.trigger(events.actionBegin, {\n        requestType: 'toolbarItemRendering',\n        items: items\n      }, function (args) {\n        _this.toolbarObj.items = args.items;\n        _this.toolbarObj.dataBind();\n        _this.parent.trigger(events.actionComplete, {\n          requestType: 'toolBarItemRendered',\n          items: _this.toolbarObj.items\n        });\n      });\n    }\n  };\n  HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n    if (this.parent.isAdaptive) {\n      return this.toolbarObj.element;\n    }\n    return this.element.querySelector('.e-date-range');\n  };\n  HeaderRenderer.prototype.setDayOfWeek = function (index) {\n    if (this.headerCalendar) {\n      this.headerCalendar.firstDayOfWeek = index;\n      this.headerCalendar.dataBind();\n    }\n  };\n  HeaderRenderer.prototype.setCalendarDate = function (date) {\n    if (this.headerCalendar) {\n      this.headerCalendar.value = date;\n      this.headerCalendar.dataBind();\n    }\n  };\n  HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.min = this.parent.minDate;\n      this.headerCalendar.max = this.parent.maxDate;\n      this.headerCalendar.dataBind();\n    }\n  };\n  HeaderRenderer.prototype.getCalendarView = function () {\n    if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n      return 'Year';\n    } else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  HeaderRenderer.prototype.setCalendarView = function () {\n    if (this.headerCalendar) {\n      var calendarView = this.getCalendarView();\n      this.headerCalendar.depth = calendarView;\n      this.headerCalendar.start = calendarView;\n      this.headerCalendar.refresh();\n    }\n  };\n  HeaderRenderer.prototype.updateActiveView = function () {\n    var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n    removeClass(selEle, ['e-active-view']);\n    if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n      addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n    }\n  };\n  HeaderRenderer.prototype.updateDateRange = function (date) {\n    var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n    if (!selEle) {\n      return;\n    }\n    var textEle = selEle.querySelector('.e-tbar-btn-text');\n    if (this.parent.activeViewOptions.dateRangeTemplate) {\n      textEle.textContent = '';\n      var args = {\n        startDate: this.parent.activeView.getStartDate(),\n        endDate: this.parent.activeView.getEndDate(),\n        currentView: this.parent.currentView\n      };\n      var viewName = this.parent.activeViewOptions.dateRangeTemplateName;\n      var templateId = this.parent.element.id + '_' + viewName + 'dateRangeTemplate';\n      var dateTemplate = [].slice.call(this.parent.getDateRangeTemplate()(args, this.parent, 'dateRangeTemplate', templateId, false));\n      append(dateTemplate, textEle);\n    } else {\n      var text = this.parent.activeView.getDateRangeText(date);\n      selEle.setAttribute('aria-label', text);\n      textEle.textContent = text;\n    }\n    this.refresh();\n  };\n  HeaderRenderer.prototype.refresh = function () {\n    if (this.toolbarObj) {\n      this.toolbarObj.refreshOverflow();\n    }\n  };\n  HeaderRenderer.prototype.updateAddIcon = function () {\n    var addEle = this.toolbarObj.element.querySelector('.e-add');\n    if (addEle) {\n      if (!this.parent.eventSettings.allowAdding) {\n        addClass([addEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([addEle], cls.HIDDEN_CLASS);\n      }\n    }\n  };\n  HeaderRenderer.prototype.getDateRangeText = function () {\n    var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n      format: 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    });\n    return util.capitalizeFirstWord(dateString, 'single');\n  };\n  HeaderRenderer.prototype.getItems = function () {\n    var items = [];\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-prev',\n      tooltipText: 'Previous',\n      overflow: 'Show',\n      cssClass: 'e-prev',\n      htmlAttributes: {\n        'aria-label': 'previous period',\n        'role': 'navigation'\n      }\n    });\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-next',\n      tooltipText: 'Next',\n      overflow: 'Show',\n      cssClass: 'e-next',\n      htmlAttributes: {\n        'aria-label': 'next period',\n        'role': 'navigation'\n      }\n    });\n    items.push({\n      align: 'Left',\n      text: this.getDateRangeText(),\n      suffixIcon: 'e-icon-down-arrow',\n      cssClass: 'e-date-range',\n      overflow: 'Show',\n      htmlAttributes: {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'title',\n        'role': 'navigation'\n      }\n    });\n    if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n        prefixIcon: 'e-icon-add',\n        text: this.l10n.getConstant('newEvent'),\n        cssClass: 'e-add',\n        overflow: 'Show'\n      });\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n        prefixIcon: 'e-icon-today',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n    } else {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n        prefixIcon: 'e-icon-day',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n      if (this.parent.views.length > 1) {\n        items.push({\n          align: 'Right',\n          type: 'Separator',\n          cssClass: 'e-schedule-seperator'\n        });\n      }\n    }\n    if (this.parent.views.length > 1) {\n      for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n        var item = _a[_i];\n        items.push(this.getItemObject(item));\n      }\n    }\n    return items;\n  };\n  HeaderRenderer.prototype.getItemObject = function (item) {\n    var viewName;\n    var displayName;\n    if (typeof item === 'string') {\n      viewName = item.toLowerCase();\n      displayName = null;\n    } else {\n      viewName = item.option.toLowerCase();\n      displayName = item.displayName;\n    }\n    var view;\n    var orientationClass;\n    var isItemInsidePopup = this.parent.isAdaptive || this.parent.enableAdaptiveUI;\n    switch (viewName) {\n      case 'day':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-day',\n          text: displayName || this.l10n.getConstant('day'),\n          cssClass: 'e-views e-day'\n        };\n        break;\n      case 'week':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-week',\n          text: displayName || this.l10n.getConstant('week'),\n          cssClass: 'e-views e-week'\n        };\n        break;\n      case 'workweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-workweek',\n          text: displayName || this.l10n.getConstant('workWeek'),\n          cssClass: 'e-views e-work-week'\n        };\n        break;\n      case 'month':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-month',\n          text: displayName || this.l10n.getConstant('month'),\n          cssClass: 'e-views e-month'\n        };\n        break;\n      case 'year':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-year',\n          text: displayName || this.l10n.getConstant('year'),\n          cssClass: 'e-views e-year'\n        };\n        break;\n      case 'agenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-agenda',\n          text: displayName || this.l10n.getConstant('agenda'),\n          cssClass: 'e-views e-agenda'\n        };\n        break;\n      case 'monthagenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-month-agenda',\n          text: displayName || this.l10n.getConstant('monthAgenda'),\n          cssClass: 'e-views e-month-agenda'\n        };\n        break;\n      case 'timelineday':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-day',\n          text: displayName || this.l10n.getConstant('timelineDay'),\n          cssClass: 'e-views e-timeline-day'\n        };\n        break;\n      case 'timelineweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-week',\n          text: displayName || this.l10n.getConstant('timelineWeek'),\n          cssClass: 'e-views e-timeline-week'\n        };\n        break;\n      case 'timelineworkweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-workweek',\n          text: displayName || this.l10n.getConstant('timelineWorkWeek'),\n          cssClass: 'e-views e-timeline-work-week'\n        };\n        break;\n      case 'timelinemonth':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-month',\n          text: displayName || this.l10n.getConstant('timelineMonth'),\n          cssClass: 'e-views e-timeline-month'\n        };\n        break;\n      case 'timelineyear':\n        orientationClass = item.orientation === 'Vertical' ? 'vertical' : 'horizontal';\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n          text: displayName || this.l10n.getConstant('timelineYear'),\n          cssClass: 'e-views e-timeline-year'\n        };\n        break;\n    }\n    return view;\n  };\n  HeaderRenderer.prototype.renderHeaderPopup = function () {\n    var headerPopupEle = createElement('div', {\n      className: cls.HEADER_POPUP_CLASS\n    });\n    var headerCalendarEle = createElement('div', {\n      className: cls.HEADER_CALENDAR_CLASS\n    });\n    headerPopupEle.appendChild(headerCalendarEle);\n    this.element.appendChild(headerPopupEle);\n    this.headerPopup = new Popup(headerPopupEle, {\n      actionOnScroll: 'hide',\n      targetType: 'relative',\n      relateTo: this.getPopUpRelativeElement(),\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.parent.enableRtl\n    });\n    var calendarView = this.getCalendarView();\n    var isDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !this.hasSelectedDate();\n    this.headerCalendar = new Calendar({\n      value: isDisplayDate ? this.parent.activeViewOptions.displayDate : this.parent.selectedDate,\n      min: this.parent.minDate,\n      max: this.parent.maxDate,\n      firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      depth: calendarView,\n      start: calendarView,\n      calendarMode: this.parent.calendarMode,\n      change: this.calendarChange.bind(this)\n    });\n    this.setCalendarTimezone();\n    this.headerCalendar.appendTo(headerCalendarEle);\n    this.headerPopup.hide();\n  };\n  HeaderRenderer.prototype.calendarChange = function (args) {\n    if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n      var calendarDate = util.resetTime(new Date(args.value));\n      this.parent.changeDate(calendarDate);\n    }\n    this.headerPopup.hide();\n  };\n  HeaderRenderer.prototype.setCalendarTimezone = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n    }\n  };\n  HeaderRenderer.prototype.calculateViewIndex = function (args) {\n    var target = closest(args.originalEvent.target, '.e-views');\n    var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n    return views.indexOf(target);\n  };\n  HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n    if (!args.item) {\n      return;\n    }\n    var strClass = args.item.cssClass.replace('e-views ', '');\n    var data;\n    var isSameTime;\n    var currentTime;\n    switch (strClass) {\n      case 'e-date-range':\n        if (!this.headerPopup) {\n          this.renderHeaderPopup();\n        }\n        if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n          this.headerPopup.hide();\n        } else {\n          this.headerPopup.show();\n        }\n        break;\n      case 'e-day':\n        this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-week':\n        this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-work-week':\n        this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-month':\n        this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-year':\n        this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-agenda':\n        this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-month-agenda':\n        this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-day':\n        this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-week':\n        this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-work-week':\n        this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-month':\n        this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-year':\n        this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-today':\n        currentTime = util.resetTime(this.parent.getCurrentTime());\n        if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda' || !this.parent.isSelectedDate(currentTime) || this.parent.currentView === 'Month' && this.parent.activeViewOptions.displayDate && !this.hasSelectedDate() && util.resetTime(this.parent.activeViewOptions.displayDate) !== currentTime || this.parent.currentView === 'Month' && this.parent.activeViewOptions.numberOfWeeks > 0 && !this.hasSelectedDate() && util.resetTime(util.firstDateOfMonth(this.parent.selectedDate)) !== currentTime) {\n          this.parent.changeDate(currentTime, args.originalEvent);\n        }\n        break;\n      case 'e-prev':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\n        break;\n      case 'e-next':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\n        break;\n      case 'e-add':\n        isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n        if (this.parent.activeCellsData && !isSameTime) {\n          data = this.parent.activeCellsData;\n        } else {\n          var interval = this.parent.activeViewOptions.timeScale.interval;\n          var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n          var msInterval = interval * util.MS_PER_MINUTE / slotCount;\n          var startTime = new Date(this.parent.selectedDate.getTime());\n          var currentTime_1 = this.parent.getCurrentTime();\n          startTime.setHours(currentTime_1.getHours(), Math.round(startTime.getMinutes() / msInterval) * msInterval, 0);\n          var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n          data = {\n            startTime: startTime,\n            endTime: endTime,\n            isAllDay: false\n          };\n        }\n        this.parent.eventWindow.openEditor(extend(data, {\n          cancel: false,\n          event: args.originalEvent\n        }), 'Add');\n        break;\n    }\n    if (isNullOrUndefined(this.toolbarObj)) {\n      return;\n    }\n    var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n    if (toolbarPopUp && args.item.type !== 'Input') {\n      toolbarPopUp.ej2_instances[0].hide({\n        name: 'SlideUp',\n        duration: 100\n      });\n    }\n  };\n  HeaderRenderer.prototype.hasSelectedDate = function () {\n    var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n    return selectedTime >= this.parent.activeView.getStartDate().getTime() && selectedTime <= this.parent.activeView.getEndDate().getTime();\n  };\n  HeaderRenderer.prototype.getHeaderElement = function () {\n    return this.toolbarObj.element;\n  };\n  HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n    var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n    var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n    var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n    if (prevNavEle) {\n      if (classType === 'add') {\n        addClass([prevNavEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([prevNavEle], cls.HIDDEN_CLASS);\n      }\n    }\n    if (nextNavEle) {\n      if (classType === 'add') {\n        addClass([nextNavEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([nextNavEle], cls.HIDDEN_CLASS);\n      }\n    }\n    if (dateRangeEle) {\n      if (classType === 'add') {\n        addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n      } else {\n        removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n      }\n    }\n  };\n  HeaderRenderer.prototype.previousNextIconHandler = function () {\n    var dates = this.parent.currentView === 'Agenda' ? [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates();\n    var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n    var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n    var firstDate = new Date(dates[0].getTime());\n    var lastDate = new Date(dates[dates.length - 1].getTime());\n    if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n      firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.firstDayOfWeek);\n      lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n    } else if (this.parent.currentView === 'Month') {\n      var isCustomMonth = !isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0;\n      firstDate = isCustomMonth ? this.parent.activeView.getStartDate() : util.firstDateOfMonth(this.parent.selectedDate);\n      lastDate = isCustomMonth ? this.parent.activeView.getEndDate() : util.lastDateOfMonth(util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1));\n    }\n    if (!isNullOrUndefined(prevNavEle)) {\n      this.toolbarObj.enableItems(prevNavEle, firstDate > util.resetTime(this.parent.minDate));\n    }\n    if (!isNullOrUndefined(nextNavEle)) {\n      this.toolbarObj.enableItems(nextNavEle, lastDate < util.resetTime(this.parent.maxDate));\n    }\n    this.setCalendarMinMaxDate();\n  };\n  HeaderRenderer.prototype.getModuleName = function () {\n    return 'headerbar';\n  };\n  HeaderRenderer.prototype.destroy = function () {\n    if (this.headerPopup && !this.headerPopup.isDestroyed) {\n      this.headerPopup.destroy();\n      this.headerPopup = null;\n    }\n    if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n      this.headerCalendar.destroy();\n      this.headerCalendar = null;\n    }\n    if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n      this.toolbarObj.destroy();\n      this.removeEventListener();\n      remove(this.element);\n      this.toolbarObj = null;\n    }\n    this.element = null;\n    this.parent = null;\n    this.l10n = null;\n  };\n  return HeaderRenderer;\n}();\nexport { HeaderRenderer };","map":{"version":3,"names":["isNullOrUndefined","createElement","remove","closest","addClass","removeClass","extend","append","Toolbar","Calendar","Popup","events","util","cls","HeaderRenderer","parent","l10n","localeObj","renderHeader","addEventListener","prototype","on","documentClick","closeHeaderPopup","removeEventListener","off","e","closestEle","event","target","closestPop","contentWrap","element","querySelector","CONTENT_WRAP_CLASS","isAdaptive","classList","contains","POPUP_OPEN","SCROLL_HIDDEN","popupEle","popupObj","ej2_instances","hide","hideHeaderPopup","headerPopup","className","TOOLBAR_CONTAINER","toolbarEle","HEADER_TOOLBAR","appendChild","insertBefore","firstElementChild","renderToolbar","_this","items","getItems","trigger","actionBegin","requestType","args","toolbarObj","overflowMode","clicked","toolbarClickHandler","bind","enableRtl","enableHtmlSanitizer","locale","appendTo","prevNavEle","setAttribute","getConstant","nextNavEle","updateAddIcon","updateActiveView","actionComplete","updateItems","dataBind","getPopUpRelativeElement","setDayOfWeek","index","headerCalendar","firstDayOfWeek","setCalendarDate","date","value","setCalendarMinMaxDate","min","minDate","max","maxDate","getCalendarView","indexOf","currentView","setCalendarView","calendarView","depth","start","refresh","selEle","slice","call","querySelectorAll","length","viewIndex","updateDateRange","textEle","activeViewOptions","dateRangeTemplate","textContent","startDate","activeView","getStartDate","endDate","getEndDate","viewName","dateRangeTemplateName","templateId","id","dateTemplate","getDateRangeTemplate","text","getDateRangeText","refreshOverflow","addEle","eventSettings","allowAdding","HIDDEN_CLASS","dateString","globalize","formatDate","selectedDate","format","calendar","getCalendarMode","capitalizeFirstWord","push","align","prefixIcon","tooltipText","overflow","cssClass","htmlAttributes","suffixIcon","enableAdaptiveUI","showAlwaysInPopup","views","type","_i","_a","item","getItemObject","displayName","toLowerCase","option","view","orientationClass","isItemInsidePopup","orientation","renderHeaderPopup","headerPopupEle","HEADER_POPUP_CLASS","headerCalendarEle","HEADER_CALENDAR_CLASS","actionOnScroll","targetType","relateTo","position","X","Y","isDisplayDate","displayDate","hasSelectedDate","calendarMode","change","calendarChange","setCalendarTimezone","getTime","calendarDate","resetTime","Date","changeDate","timezone","tzModule","getLocalTimezoneName","calculateViewIndex","originalEvent","strClass","replace","data","isSameTime","currentTime","show","changeView","undefined","getCurrentTime","isSelectedDate","numberOfWeeks","firstDateOfMonth","getNextPreviousDate","activeCellsData","startTime","endTime","interval","timeScale","slotCount","msInterval","MS_PER_MINUTE","currentTime_1","setHours","getHours","Math","round","getMinutes","setMilliseconds","getMilliseconds","isAllDay","eventWindow","openEditor","cancel","toolbarPopUp","name","duration","selectedTime","getHeaderElement","updateHeaderItems","classType","dateRangeEle","TEXT_ELLIPSIS","previousNextIconHandler","dates","getCurrentViewDates","PREVIOUS_DATE_CLASS","NEXT_DATE_CLASS","firstDate","lastDate","getWeekFirstDate","addDays","isCustomMonth","lastDateOfMonth","addMonths","enableItems","getModuleName","destroy","isDestroyed"],"sources":["C:/react_test/my-app/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/header-renderer.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\nvar HeaderRenderer = /** @class */ (function () {\n    function HeaderRenderer(parent) {\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.renderHeader();\n        this.addEventListener();\n    }\n    HeaderRenderer.prototype.addEventListener = function () {\n        this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n    };\n    HeaderRenderer.prototype.removeEventListener = function () {\n        this.parent.off(events.documentClick, this.closeHeaderPopup);\n    };\n    HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n        var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n        var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n        var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') ||\n                closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') &&\n                this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n                addClass([contentWrap], cls.SCROLL_HIDDEN);\n            }\n            else {\n                removeClass([contentWrap], cls.SCROLL_HIDDEN);\n                var popupEle = this.element.querySelector('.e-toolbar-pop');\n                if (!isNullOrUndefined(popupEle)) {\n                    var popupObj = popupEle.ej2_instances[0];\n                    if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') &&\n                        popupEle.classList.contains(cls.POPUP_OPEN))) {\n                        popupObj.hide();\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(closestEle)) {\n            return;\n        }\n        this.hideHeaderPopup();\n    };\n    HeaderRenderer.prototype.hideHeaderPopup = function () {\n        if (this.headerPopup) {\n            this.headerPopup.hide();\n        }\n    };\n    HeaderRenderer.prototype.renderHeader = function () {\n        this.element = createElement('div', { className: cls.TOOLBAR_CONTAINER });\n        var toolbarEle = createElement('div', { className: cls.HEADER_TOOLBAR });\n        this.element.appendChild(toolbarEle);\n        this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n        this.renderToolbar();\n    };\n    HeaderRenderer.prototype.renderToolbar = function () {\n        var _this = this;\n        var items = this.getItems();\n        this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n            _this.toolbarObj = new Toolbar({\n                items: args.items,\n                overflowMode: 'Popup',\n                clicked: _this.toolbarClickHandler.bind(_this),\n                enableRtl: _this.parent.enableRtl,\n                enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n                locale: _this.parent.locale\n            });\n            _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n            var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n            if (prevNavEle) {\n                prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n            }\n            var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n            if (nextNavEle) {\n                nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n            }\n            _this.updateAddIcon();\n            _this.updateActiveView();\n            _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n        });\n    };\n    HeaderRenderer.prototype.updateItems = function () {\n        var _this = this;\n        if (this.toolbarObj) {\n            var items = this.getItems();\n            this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n                _this.toolbarObj.items = args.items;\n                _this.toolbarObj.dataBind();\n                _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n            });\n        }\n    };\n    HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n        if (this.parent.isAdaptive) {\n            return this.toolbarObj.element;\n        }\n        return this.element.querySelector('.e-date-range');\n    };\n    HeaderRenderer.prototype.setDayOfWeek = function (index) {\n        if (this.headerCalendar) {\n            this.headerCalendar.firstDayOfWeek = index;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarDate = function (date) {\n        if (this.headerCalendar) {\n            this.headerCalendar.value = date;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.min = this.parent.minDate;\n            this.headerCalendar.max = this.parent.maxDate;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.getCalendarView = function () {\n        if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n            return 'Year';\n        }\n        else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    HeaderRenderer.prototype.setCalendarView = function () {\n        if (this.headerCalendar) {\n            var calendarView = this.getCalendarView();\n            this.headerCalendar.depth = calendarView;\n            this.headerCalendar.start = calendarView;\n            this.headerCalendar.refresh();\n        }\n    };\n    HeaderRenderer.prototype.updateActiveView = function () {\n        var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n        removeClass(selEle, ['e-active-view']);\n        if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n            addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n        }\n    };\n    HeaderRenderer.prototype.updateDateRange = function (date) {\n        var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (!selEle) {\n            return;\n        }\n        var textEle = selEle.querySelector('.e-tbar-btn-text');\n        if (this.parent.activeViewOptions.dateRangeTemplate) {\n            textEle.textContent = '';\n            var args = {\n                startDate: this.parent.activeView.getStartDate(),\n                endDate: this.parent.activeView.getEndDate(), currentView: this.parent.currentView\n            };\n            var viewName = this.parent.activeViewOptions.dateRangeTemplateName;\n            var templateId = this.parent.element.id + '_' + viewName + 'dateRangeTemplate';\n            var dateTemplate = [].slice.call(this.parent.getDateRangeTemplate()(args, this.parent, 'dateRangeTemplate', templateId, false));\n            append(dateTemplate, textEle);\n        }\n        else {\n            var text = this.parent.activeView.getDateRangeText(date);\n            selEle.setAttribute('aria-label', text);\n            textEle.textContent = text;\n        }\n        this.refresh();\n    };\n    HeaderRenderer.prototype.refresh = function () {\n        if (this.toolbarObj) {\n            this.toolbarObj.refreshOverflow();\n        }\n    };\n    HeaderRenderer.prototype.updateAddIcon = function () {\n        var addEle = this.toolbarObj.element.querySelector('.e-add');\n        if (addEle) {\n            if (!this.parent.eventSettings.allowAdding) {\n                addClass([addEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([addEle], cls.HIDDEN_CLASS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.getDateRangeText = function () {\n        var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n            format: 'MMMM y', calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(dateString, 'single');\n    };\n    HeaderRenderer.prototype.getItems = function () {\n        var items = [];\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\n            cssClass: 'e-prev', htmlAttributes: { 'aria-label': 'previous period', 'role': 'navigation' }\n        });\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\n            cssClass: 'e-next', htmlAttributes: { 'aria-label': 'next period', 'role': 'navigation' }\n        });\n        items.push({\n            align: 'Left', text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\n            overflow: 'Show',\n            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title', 'role': 'navigation' }\n        });\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-add',\n                text: this.l10n.getConstant('newEvent'), cssClass: 'e-add', overflow: 'Show'\n            });\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n        }\n        else {\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-day',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n            if (this.parent.views.length > 1) {\n                items.push({ align: 'Right', type: 'Separator', cssClass: 'e-schedule-seperator' });\n            }\n        }\n        if (this.parent.views.length > 1) {\n            for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n                var item = _a[_i];\n                items.push(this.getItemObject(item));\n            }\n        }\n        return items;\n    };\n    HeaderRenderer.prototype.getItemObject = function (item) {\n        var viewName;\n        var displayName;\n        if (typeof (item) === 'string') {\n            viewName = item.toLowerCase();\n            displayName = null;\n        }\n        else {\n            viewName = item.option.toLowerCase();\n            displayName = item.displayName;\n        }\n        var view;\n        var orientationClass;\n        var isItemInsidePopup = this.parent.isAdaptive || this.parent.enableAdaptiveUI;\n        switch (viewName) {\n            case 'day':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-day',\n                    text: displayName || this.l10n.getConstant('day'), cssClass: 'e-views e-day'\n                };\n                break;\n            case 'week':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-week',\n                    text: displayName || this.l10n.getConstant('week'), cssClass: 'e-views e-week'\n                };\n                break;\n            case 'workweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-workweek',\n                    text: displayName || this.l10n.getConstant('workWeek'), cssClass: 'e-views e-work-week'\n                };\n                break;\n            case 'month':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-month',\n                    text: displayName || this.l10n.getConstant('month'), cssClass: 'e-views e-month'\n                };\n                break;\n            case 'year':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-year',\n                    text: displayName || this.l10n.getConstant('year'), cssClass: 'e-views e-year'\n                };\n                break;\n            case 'agenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-agenda',\n                    text: displayName || this.l10n.getConstant('agenda'), cssClass: 'e-views e-agenda'\n                };\n                break;\n            case 'monthagenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-month-agenda',\n                    text: displayName || this.l10n.getConstant('monthAgenda'), cssClass: 'e-views e-month-agenda'\n                };\n                break;\n            case 'timelineday':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-day',\n                    text: displayName || this.l10n.getConstant('timelineDay'), cssClass: 'e-views e-timeline-day'\n                };\n                break;\n            case 'timelineweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-week',\n                    text: displayName || this.l10n.getConstant('timelineWeek'), cssClass: 'e-views e-timeline-week'\n                };\n                break;\n            case 'timelineworkweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-workweek',\n                    text: displayName || this.l10n.getConstant('timelineWorkWeek'), cssClass: 'e-views e-timeline-work-week'\n                };\n                break;\n            case 'timelinemonth':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-month',\n                    text: displayName || this.l10n.getConstant('timelineMonth'), cssClass: 'e-views e-timeline-month'\n                };\n                break;\n            case 'timelineyear':\n                orientationClass = (item.orientation === 'Vertical') ? 'vertical' : 'horizontal';\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n                    text: displayName || this.l10n.getConstant('timelineYear'), cssClass: 'e-views e-timeline-year'\n                };\n                break;\n        }\n        return view;\n    };\n    HeaderRenderer.prototype.renderHeaderPopup = function () {\n        var headerPopupEle = createElement('div', { className: cls.HEADER_POPUP_CLASS });\n        var headerCalendarEle = createElement('div', { className: cls.HEADER_CALENDAR_CLASS });\n        headerPopupEle.appendChild(headerCalendarEle);\n        this.element.appendChild(headerPopupEle);\n        this.headerPopup = new Popup(headerPopupEle, {\n            actionOnScroll: 'hide',\n            targetType: 'relative',\n            relateTo: this.getPopUpRelativeElement(),\n            position: { X: 'left', Y: 'bottom' },\n            enableRtl: this.parent.enableRtl\n        });\n        var calendarView = this.getCalendarView();\n        var isDisplayDate = this.parent.currentView === 'Month' &&\n            !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !this.hasSelectedDate();\n        this.headerCalendar = new Calendar({\n            value: isDisplayDate ? this.parent.activeViewOptions.displayDate : this.parent.selectedDate,\n            min: this.parent.minDate,\n            max: this.parent.maxDate,\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            depth: calendarView,\n            start: calendarView,\n            calendarMode: this.parent.calendarMode,\n            change: this.calendarChange.bind(this)\n        });\n        this.setCalendarTimezone();\n        this.headerCalendar.appendTo(headerCalendarEle);\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.calendarChange = function (args) {\n        if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n            var calendarDate = util.resetTime(new Date(args.value));\n            this.parent.changeDate(calendarDate);\n        }\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.setCalendarTimezone = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        }\n    };\n    HeaderRenderer.prototype.calculateViewIndex = function (args) {\n        var target = closest(args.originalEvent.target, '.e-views');\n        var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n        return views.indexOf(target);\n    };\n    HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n        if (!args.item) {\n            return;\n        }\n        var strClass = args.item.cssClass.replace('e-views ', '');\n        var data;\n        var isSameTime;\n        var currentTime;\n        switch (strClass) {\n            case 'e-date-range':\n                if (!this.headerPopup) {\n                    this.renderHeaderPopup();\n                }\n                if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n                    this.headerPopup.hide();\n                }\n                else {\n                    this.headerPopup.show();\n                }\n                break;\n            case 'e-day':\n                this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-week':\n                this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-work-week':\n                this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month':\n                this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-year':\n                this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-agenda':\n                this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month-agenda':\n                this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-day':\n                this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-week':\n                this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-work-week':\n                this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-month':\n                this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-year':\n                this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-today':\n                currentTime = util.resetTime(this.parent.getCurrentTime());\n                if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda' || !this.parent.isSelectedDate(currentTime) ||\n                    this.parent.currentView === 'Month' && this.parent.activeViewOptions.displayDate && !this.hasSelectedDate() &&\n                        util.resetTime(this.parent.activeViewOptions.displayDate) !== currentTime || this.parent.currentView === 'Month' &&\n                    this.parent.activeViewOptions.numberOfWeeks > 0 && !this.hasSelectedDate()\n                    && util.resetTime(util.firstDateOfMonth(this.parent.selectedDate)) !== currentTime) {\n                    this.parent.changeDate(currentTime, args.originalEvent);\n                }\n                break;\n            case 'e-prev':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\n                break;\n            case 'e-next':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\n                break;\n            case 'e-add':\n                isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n                if (this.parent.activeCellsData && !isSameTime) {\n                    data = this.parent.activeCellsData;\n                }\n                else {\n                    var interval = this.parent.activeViewOptions.timeScale.interval;\n                    var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n                    var msInterval = (interval * util.MS_PER_MINUTE) / slotCount;\n                    var startTime = new Date(this.parent.selectedDate.getTime());\n                    var currentTime_1 = this.parent.getCurrentTime();\n                    startTime.setHours(currentTime_1.getHours(), (Math.round(startTime.getMinutes() / msInterval) * msInterval), 0);\n                    var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n                    data = { startTime: startTime, endTime: endTime, isAllDay: false };\n                }\n                this.parent.eventWindow.openEditor(extend(data, { cancel: false, event: args.originalEvent }), 'Add');\n                break;\n        }\n        if (isNullOrUndefined(this.toolbarObj)) {\n            return;\n        }\n        var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n        if (toolbarPopUp && args.item.type !== 'Input') {\n            toolbarPopUp.ej2_instances[0].hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    HeaderRenderer.prototype.hasSelectedDate = function () {\n        var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n        return selectedTime >= this.parent.activeView.getStartDate().getTime() &&\n            selectedTime <= this.parent.activeView.getEndDate().getTime();\n    };\n    HeaderRenderer.prototype.getHeaderElement = function () {\n        return this.toolbarObj.element;\n    };\n    HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n        var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n        var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n        var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (prevNavEle) {\n            if (classType === 'add') {\n                addClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (nextNavEle) {\n            if (classType === 'add') {\n                addClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (dateRangeEle) {\n            if (classType === 'add') {\n                addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n            else {\n                removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.previousNextIconHandler = function () {\n        var dates = (this.parent.currentView === 'Agenda' ?\n            [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates());\n        var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n        var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n        var firstDate = new Date(dates[0].getTime());\n        var lastDate = new Date(dates[dates.length - 1].getTime());\n        if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n            firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.firstDayOfWeek);\n            lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n        }\n        else if (this.parent.currentView === 'Month') {\n            var isCustomMonth = !isNullOrUndefined(this.parent.activeViewOptions.displayDate) ||\n                this.parent.activeViewOptions.numberOfWeeks > 0;\n            firstDate = isCustomMonth ? this.parent.activeView.getStartDate() : util.firstDateOfMonth(this.parent.selectedDate);\n            lastDate = isCustomMonth ? this.parent.activeView.getEndDate() :\n                util.lastDateOfMonth(util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1));\n        }\n        if (!isNullOrUndefined(prevNavEle)) {\n            this.toolbarObj.enableItems(prevNavEle, firstDate > util.resetTime(this.parent.minDate));\n        }\n        if (!isNullOrUndefined(nextNavEle)) {\n            this.toolbarObj.enableItems(nextNavEle, lastDate < util.resetTime(this.parent.maxDate));\n        }\n        this.setCalendarMinMaxDate();\n    };\n    HeaderRenderer.prototype.getModuleName = function () {\n        return 'headerbar';\n    };\n    HeaderRenderer.prototype.destroy = function () {\n        if (this.headerPopup && !this.headerPopup.isDestroyed) {\n            this.headerPopup.destroy();\n            this.headerPopup = null;\n        }\n        if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n            this.headerCalendar.destroy();\n            this.headerCalendar = null;\n        }\n        if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n            this.toolbarObj.destroy();\n            this.removeEventListener();\n            remove(this.element);\n            this.toolbarObj = null;\n        }\n        this.element = null;\n        this.parent = null;\n        this.l10n = null;\n    };\n    return HeaderRenderer;\n}());\nexport { HeaderRenderer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}